# 二级页面设计文档

## 📋 文档概述

本文档详细描述了用户中心的所有二级页面的设计规范、功能需求、UI 布局和交互流程。

**文档版本**：1.0.0  
**创建时间**：2026-02-12  
**适用范围**：所有二级页面开发  

---

## 🗂️ 二级页面清单

用户中心包含以下 6 个二级页面：

| 页面 | 路由 | 功能 | 优先级 |
|------|------|------|--------|
| 编辑资料 | `/pages/user-center/edit-profile` | 编辑个人信息 | ⭐⭐⭐ |
| 我的交易 | `/pages/user-center/order-list` | 管理所有交易订单 | ⭐⭐⭐ |
| 我的发布 | `/pages/user-center/publish-list` | 管理发布的内容 | ⭐⭐⭐ |
| 我的记录 | `/pages/user-center/history-list` | 浏览历史和收藏 | ⭐⭐ |
| 服务与支持 | `/pages/user-center/service-support` | 客服和帮助 | ⭐⭐ |
| 设置 | `/pages/user-center/settings` | 账户和应用设置 | ⭐⭐ |

---

## 🎨 设计规范

### 色彩系统

**主色调**：
- 主绿色：`#4CAF50` - 主要操作、品牌色
- 鹅黄色：`#FDD835` - 警告、高亮、强调

**功能色**：
- 成功绿：`#4CAF50` - 成功状态
- 警告黄：`#FDD835` - 警告状态
- 错误红：`#F44336` - 错误状态
- 信息蓝：`#2196F3` - 信息状态

**中性色**：
- 深灰色：`#212121` - 主文本
- 中灰色：`#757575` - 次文本
- 浅灰色：`#BDBDBD` - 禁用文本
- 极浅灰：`#F5F5F5` - 背景色

### 排版系统

| 用途 | 大小 | 粗细 | 行高 |
|------|------|------|------|
| 页面标题 | 24px | 700 | 1.2 |
| 模块标题 | 20px | 600 | 1.3 |
| 卡片标题 | 18px | 600 | 1.4 |
| 正文大 | 16px | 400 | 1.5 |
| 正文中 | 14px | 400 | 1.5 |
| 正文小 | 12px | 400 | 1.4 |

### 间距系统

```
xs：4px
sm：8px
md：12px
lg：16px
xl：20px
2xl：24px
3xl：32px
```

### 圆角系统

```
小圆角：4px - 按钮、标签
中圆角：8px - 输入框、小卡片
大圆角：12px - 列表卡片
超大圆角：16px - 用户卡片
圆形：9999px - 头像、圆形按钮
```

### 阴影系统

```
浅阴影：0 1px 2px 0 rgba(0, 0, 0, 0.05)
中阴影：0 4px 6px -1px rgba(0, 0, 0, 0.1)
深阴影：0 10px 15px -3px rgba(0, 0, 0, 0.1)
```

---

## 📱 页面通用结构

所有二级页面遵循统一的结构：

```
┌─────────────────────────────────┐
│ ← 返回按钮    页面标题          │  ← 页面头部
├─────────────────────────────────┤
│                                 │
│  页面内容区域                   │
│  （可滚动）                     │
│                                 │
├─────────────────────────────────┤
│ [操作按钮]  [操作按钮]          │  ← 页面底部（可选）
└─────────────────────────────────┘
```

### 页面头部

**组件**：
- 返回按钮（左侧）
- 页面标题（中间）
- 操作按钮（右侧，可选）

**样式**：
- 背景色：白色 `#FFFFFF`
- 高度：56px
- 阴影：中阴影
- 固定顶部

### 页面内容

**特点**：
- 可滚动区域
- 顶部间距：56px（页面头部高度）
- 底部间距：根据需要调整
- 左右内边距：16px

### 页面底部

**用途**：
- 主操作按钮
- 多个操作选项
- 固定在底部

**样式**：
- 背景色：白色 `#FFFFFF`
- 高度：60px（含内边距）
- 阴影：深阴影
- 固定底部

---

## 🔄 通用交互规范

### 返回操作

- 点击返回按钮返回上一页
- 支持手势返回（uni-app 原生支持）
- 返回时保留页面状态（可选）

### 加载状态

- 显示加载动画
- 禁用所有交互
- 显示加载提示文字

### 空状态

- 显示大号 emoji 图标（48px）
- 显示提示文字（14px，灰色）
- 显示操作按钮（可选）

### 错误状态

- 显示错误图标
- 显示错误信息
- 显示重试按钮

### 成功反馈

- 显示成功提示（Toast）
- 自动关闭（2 秒）
- 可选的页面跳转

---

## 📄 详细页面设计

详见以下文档：
- `二级页面设计文档-编辑资料.md` - 编辑个人信息
- `二级页面设计文档-我的交易.md` - 管理交易订单
- `二级页面设计文档-我的发布.md` - 管理发布内容
- `二级页面设计文档-我的记录.md` - 浏览历史管理
- `二级页面设计文档-服务与支持.md` - 客服和帮助
- `二级页面设计文档-设置.md` - 账户和应用设置

---

## 🎯 开发优先级

### 第一阶段（必做）
1. ✅ 编辑资料 - 核心功能
2. ✅ 我的交易 - 核心功能
3. ✅ 我的发布 - 核心功能

### 第二阶段（重要）
4. ⭕ 我的记录 - 辅助功能
5. ⭕ 设置 - 系统功能

### 第三阶段（可选）
6. ⭕ 服务与支持 - 帮助功能

---

## 🔧 技术实现指南

### 状态管理

使用 Pinia 管理全局状态：
- 用户信息
- 订单列表
- 发布列表
- 历史记录
- 应用设置

### 数据存储

**前端阶段**：
- 使用 mock 数据
- 本地 localStorage 存储
- uni-app 本地存储

**后端接入**：
- API 调用替换 mock 数据
- 服务器数据同步
- 缓存策略

### 组件复用

**通用组件**：
- 列表卡片组件
- Tabs 切换组件
- 空状态组件
- 加载组件
- 按钮组件

**页面组件**：
- 各二级页面组件
- 模态框组件
- 表单组件

### 性能优化

- 虚拟列表（长列表）
- 图片懒加载
- 分页加载
- 缓存策略

---

## 📊 数据结构

### 订单数据结构

```typescript
interface Order {
  id: string                    // 订单 ID
  title: string                 // 订单标题
  description: string           // 订单描述
  image: string                 // 订单图片
  price: number                 // 订单价格
  status: 'pending' | 'confirmed' | 'completed' | 'cancelled'  // 订单状态
  type: 'house' | 'activity' | 'skill'  // 订单类型
  createTime: string            // 创建时间
  updateTime: string            // 更新时间
}
```

### 发布数据结构

```typescript
interface Publish {
  id: string                    // 发布 ID
  title: string                 // 发布标题
  description: string           // 发布描述
  image: string                 // 发布图片
  status: 'draft' | 'published' | 'offline' | 'deleted'  // 发布状态
  type: 'house' | 'activity' | 'skill' | 'discussion'  // 发布类型
  views: number                 // 浏览数
  likes: number                 // 点赞数
  createTime: string            // 创建时间
  updateTime: string            // 更新时间
}
```

### 历史记录数据结构

```typescript
interface History {
  id: string                    // 记录 ID
  title: string                 // 内容标题
  image: string                 // 内容图片
  type: 'house' | 'activity' | 'skill' | 'discussion'  // 内容类型
  viewTime: string              // 浏览时间
}
```

---

## 🧪 测试清单

### 功能测试
- [ ] 页面加载正常
- [ ] 数据显示正确
- [ ] 交互响应正常
- [ ] 状态切换正常
- [ ] 操作反馈正确

### 界面测试
- [ ] 布局美观
- [ ] 文字清晰
- [ ] 颜色搭配
- [ ] 间距合理
- [ ] 响应式适配

### 兼容性测试
- [ ] 浏览器环境
- [ ] uni-app 环境
- [ ] 微信小程序
- [ ] 不同屏幕尺寸

---

## 📝 开发检查清单

- [ ] 页面结构完整
- [ ] 样式规范统一
- [ ] 交互流程清晰
- [ ] 数据绑定正确
- [ ] 错误处理完善
- [ ] 加载状态处理
- [ ] 空状态处理
- [ ] 响应式适配
- [ ] 代码注释完整
- [ ] 文档更新完整

---

**文档版本**：1.0.0  
**最后更新**：2026-02-12  
**维护者**：Kiro AI Assistant


---

### 我的记录页面概述

**功能**：
- 浏览历史列表
- 删除单条历史
- 清空所有历史
- 显示浏览时间

**布局**：
- 列表式布局
- 左侧小图片 (80x80)
- 中间标题和时间
- 右侧删除按钮

**交互**：
- 点击历史项跳转到详情页
- 点击删除按钮删除单条
- 点击清空按钮清空所有

### 服务与支持页面概述

**功能**：
- 客服中心
- 服务站咨询
- 常见问题
- 关于我们
- 反馈建议

**布局**：
- 菜单式布局
- 每项显示标题和描述
- 右侧箭头指示

**交互**：
- 点击项目跳转到对应页面
- 显示联系方式
- 支持在线客服

### 设置页面概述

**功能**：
- 编辑个人资料
- 卡片背景编辑
- 身份切换
- 通知设置
- 隐私模式
- 深色模式
- 清除缓存
- 关于应用
- 退出登录

**布局**：
- 分组菜单式布局
- 每组有标题
- 每项显示标题、描述和控制元素
- 分割线分隔

**交互**：
- 点击项目执行对应操作
- 开关切换设置
- 确认对话框确认危险操作

---

## 🎯 开发建议

### 优先级建议

**第一阶段（必做）**：
1. 我的订单 - 核心功能，涉及数据管理
2. 我的发布 - 核心功能，涉及内容管理
3. 编辑资料 - 核心功能，涉及用户信息

**第二阶段（重要）**：
4. 我的记录 - 辅助功能，相对简单
5. 设置 - 系统功能，相对简单

**第三阶段（可选）**：
6. 服务与支持 - 帮助功能，可后期补充

### 技术建议

1. **组件复用**
   - 创建通用的列表卡片组件
   - 创建通用的 Tabs 组件
   - 创建通用的空状态组件
   - 创建通用的加载组件

2. **状态管理**
   - 使用 Pinia 管理全局状态
   - 分离页面状态和全局状态
   - 实现缓存策略

3. **性能优化**
   - 使用虚拟列表处理长列表
   - 实现图片懒加载
   - 实现分页加载
   - 缓存已加载的数据

4. **错误处理**
   - 完善的错误提示
   - 重试机制
   - 降级方案

### 测试建议

1. **功能测试**
   - 测试所有交互流程
   - 测试数据绑定
   - 测试状态切换

2. **界面测试**
   - 测试不同屏幕尺寸
   - 测试不同浏览器
   - 测试响应式适配

3. **兼容性测试**
   - 浏览器环境
   - uni-app 环境
   - 微信小程序

---

**文档版本**：1.0.0  
**最后更新**：2026-02-12  
**维护者**：Kiro AI Assistant
