# è€äººå‹å¥½ç‰ˆè®¾è®¡æ–‡æ¡£

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
**åˆ›å»ºæ—¥æœŸ**ï¼š2026-02-15  
**åŠŸèƒ½æ ‡ç­¾**ï¼šé€‚è€åŒ–è®¾è®¡ã€æ— éšœç¢è®¿é—®ã€ç”¨æˆ·ä½“éªŒ

---

## ğŸ“‹ æ¦‚è¿°

ä¸ºäº†é€‚é…å¹´é¾„è¾ƒå¤§çš„æ‘æ°‘ç”¨æˆ·ï¼Œè®¾è®¡è€äººå‹å¥½ç‰ˆåŠŸèƒ½ã€‚ç”¨æˆ·å¯åœ¨è®¾ç½®é¡µé¢é€‰æ‹©åº”ç”¨ç‰ˆæœ¬ï¼ˆæ ‡å‡†ç‰ˆ / è€äººå‹å¥½ç‰ˆï¼‰ï¼Œåˆ‡æ¢åå…¨å±€åº”ç”¨ç›¸åº”çš„ UI å’Œäº¤äº’ä¼˜åŒ–ã€‚

---

## ğŸ¯ è®¾è®¡ç›®æ ‡

- âœ… **æ˜“è¯»æ€§**ï¼šå¢å¤§å­—ä½“ï¼Œæé«˜å¯¹æ¯”åº¦ï¼Œç¡®ä¿å†…å®¹æ¸…æ™°å¯è§
- âœ… **æ˜“ç”¨æ€§**ï¼šæ”¾å¤§äº¤äº’å…ƒç´ ï¼Œå‡å°‘è¯¯è§¦ï¼Œç®€åŒ–æ“ä½œæµç¨‹
- âœ… **èˆ’é€‚æ€§**ï¼šå‡å°‘ä¿¡æ¯å¯†åº¦ï¼Œé™ä½è®¤çŸ¥è´Ÿæ‹…ï¼Œæä¾›æ¸…æ™°åé¦ˆ
- âœ… **å‹å¥½æ€§**ï¼šç®€åŒ–è¯­è¨€ï¼Œä½¿ç”¨ç›´è§‚å›¾æ ‡ï¼Œæä¾›å¸®åŠ©ä¿¡æ¯

---

## ğŸ“ è®¾è®¡è§„èŒƒ

### 1. å­—ä½“å¤§å°è°ƒæ•´

| å…ƒç´  | æ ‡å‡†ç‰ˆ | è€äººå‹å¥½ç‰ˆ | å¢é•¿ |
|------|--------|-----------|------|
| æ ‡é¢˜ (xl) | 20px | 28px | +8px |
| æ ‡é¢˜ (lg) | 18px | 24px | +6px |
| ä¸»æ–‡æœ¬ (base) | 16px | 20px | +4px |
| æ¬¡æ–‡æœ¬ (sm) | 14px | 18px | +4px |
| æç¤ºæ–‡æœ¬ (xs) | 12px | 16px | +4px |

**å®ç°æ–¹å¼**ï¼š
```scss
// variables.scss ä¸­å¢åŠ è€äººç‰ˆå˜é‡
$elderly-font-size-xs: 16px;    // åŸ 12px
$elderly-font-size-sm: 18px;    // åŸ 14px
$elderly-font-size-base: 20px;  // åŸ 16px
$elderly-font-size-lg: 24px;    // åŸ 18px
$elderly-font-size-xl: 28px;    // åŸ 20px
```

### 2. é—´è·è°ƒæ•´

| ç±»å‹ | æ ‡å‡†ç‰ˆ | è€äººå‹å¥½ç‰ˆ | å¢é•¿ |
|------|--------|-----------|------|
| æŒ‰é’®å†…è¾¹è· | 12px | 16px | +4px |
| å¡ç‰‡é—´è· | 12px | 20px | +8px |
| æŒ‰é’®é«˜åº¦ | 44px | 56px | +12px |
| è¡Œé«˜ | 1.5 | 1.8 | +0.3 |

### 3. æŒ‰é’®å’Œäº¤äº’å…ƒç´ 

**æ ‡å‡†ç‰ˆæŒ‰é’®**
```
é«˜åº¦ï¼š44px
å†…è¾¹è·ï¼š8px 16px
æœ€å°å®½åº¦ï¼š80px
```

**è€äººå‹å¥½ç‰ˆæŒ‰é’®**
```
é«˜åº¦ï¼š56pxï¼ˆ+36%ï¼‰
å†…è¾¹è·ï¼š12px 24px
æœ€å°å®½åº¦ï¼š100px
é—´è·ï¼šå¢åŠ  50%
```

### 4. è‰²å½©å¯¹æ¯”åº¦

**æ ‡å‡†ç‰ˆ**ï¼šå¯¹æ¯”åº¦ â‰¥ 4.5:1ï¼ˆWCAG AAï¼‰

**è€äººå‹å¥½ç‰ˆ**ï¼šå¯¹æ¯”åº¦ â‰¥ 7:1ï¼ˆWCAG AAAï¼‰

| å…ƒç´  | æ ‡å‡†ç‰ˆ | è€äººå‹å¥½ç‰ˆ |
|------|--------|-----------|
| ä¸»æ–‡æœ¬ | #212121 | #000000 |
| æ¬¡æ–‡æœ¬ | #757575 | #404040 |
| è¾¹æ¡† | #e0e0e0 | #b0b0b0 |
| æŒ‰é’® | åŸè‰² | åŠ æ·± 15% |

### 5. ç•Œé¢ç®€åŒ–

**ä¿¡æ¯å¯†åº¦**
- æ ‡å‡†ç‰ˆï¼šæ¯å± 5-7 ä¸ªå¡ç‰‡
- è€äººå‹å¥½ç‰ˆï¼šæ¯å± 3-4 ä¸ªå¡ç‰‡

**èœå•æ·±åº¦**
- æ ‡å‡†ç‰ˆï¼šå…è®¸ 3 çº§èœå•
- è€äººå‹å¥½ç‰ˆï¼šé™åˆ¶ 2 çº§èœå•ï¼Œä¸»åŠŸèƒ½ç›´è¾¾

**é¡µé¢å…ƒç´ **
- éšè—éå¿…è¦åŠŸèƒ½
- é«˜äº®æ ¸å¿ƒæ“ä½œæŒ‰é’®
- å‡å°‘è§†è§‰å¹²æ‰°

---

## ğŸ”§ æŠ€æœ¯å®ç°æ–¹æ¡ˆ

### æ ¸å¿ƒå®ç°æµç¨‹

```
ç”¨æˆ·é€‰æ‹©ç‰ˆæœ¬ (settings.vue)
    â†“
ä¿å­˜åˆ° Pinia å­˜å‚¨ (userStore)
    â†“
App.vue ç›‘å¬ç‰ˆæœ¬å˜åŒ–
    â†“
åŠ¨æ€åº”ç”¨ CSS ç±» (elderly-mode)
    â†“
å…¨å±€æ ·å¼è¦†ç›– (App.vue ä¸­çš„ .elderly-mode è§„åˆ™)
```

### æ–‡ä»¶ä¿®æ”¹æ¸…å•

#### 1. `stores/user.ts`
**ä¿®æ”¹å†…å®¹**ï¼šåœ¨ UserSettings ç±»å‹ä¸­æ·»åŠ ç‰ˆæœ¬å­—æ®µ

```typescript
interface UserSettings {
  notificationEnabled: boolean
  privacyMode: boolean
  identity: 'villager' | 'nomad'
  theme: 'light' | 'dark'
  appVersion: 'standard' | 'elderly'  // æ–°å¢å­—æ®µ
}

const settings = ref<UserSettings>({
  notificationEnabled: true,
  privacyMode: false,
  identity: 'villager',
  theme: 'light',
  appVersion: 'standard'  // é»˜è®¤æ ‡å‡†ç‰ˆ
})
```

#### 2. `styles/variables.scss`
**ä¿®æ”¹å†…å®¹**ï¼šæ·»åŠ è€äººå‹å¥½ç‰ˆçš„ SCSS å˜é‡

```scss
// ========== è€äººå‹å¥½ç‰ˆå­—ä½“å˜é‡ ==========
$elderly-font-size-xs: 16px;
$elderly-font-size-sm: 18px;
$elderly-font-size-base: 20px;
$elderly-font-size-lg: 24px;
$elderly-font-size-xl: 28px;

// ========== è€äººå‹å¥½ç‰ˆé—´è·å˜é‡ ==========
$elderly-spacing-sm: 12px;    // åŸ 8px
$elderly-spacing-md: 16px;    // åŸ 12px
$elderly-spacing-lg: 24px;    // åŸ 16px
$elderly-spacing-xl: 28px;    // åŸ 20px

// ========== è€äººå‹å¥½ç‰ˆé¢œè‰²å˜é‡ ==========
$elderly-text-primary: #000000;    // æ›´é»‘
$elderly-text-secondary: #404040;  // æ›´æ·±
$elderly-border-light: #b0b0b0;    // æ›´æ˜æ˜¾
```

#### 3. `App.vue`
**ä¿®æ”¹å†…å®¹**ï¼š
- ç›‘å¬ç‰ˆæœ¬å˜åŒ–
- åŠ¨æ€åº”ç”¨ elderly-mode ç±»
- æ·»åŠ è€äººå‹å¥½ç‰ˆå…¨å±€æ ·å¼

```typescript
const userStore = useUserStore()
const isElderlyMode = computed(() => userStore.settings.appVersion === 'elderly')

watch(isElderlyMode, (newVal) => {
  nextTick(() => {
    if (newVal) {
      document.documentElement.setAttribute('data-elderly-mode', 'true')
    } else {
      document.documentElement.removeAttribute('data-elderly-mode')
    }
  })
}, { immediate: true })
```

**CSS æ ·å¼**ï¼ˆåœ¨ App.vue style æ ‡ç­¾ä¸­ï¼‰ï¼š
```css
/* è€äººå‹å¥½ç‰ˆå…¨å±€æ ·å¼ */
html[data-elderly-mode='true'] {
  --font-size-xs: 16px;
  --font-size-sm: 18px;
  --font-size-base: 20px;
  --font-size-lg: 24px;
  --font-size-xl: 28px;
}

html[data-elderly-mode='true'] * {
  font-size-adjustment: auto;
}

/* æŒ‰é’®æ”¾å¤§ */
html[data-elderly-mode='true'] button {
  min-height: 56px !important;
  padding: 12px 24px !important;
  font-size: 20px !important;
}

/* å¡ç‰‡é—´è·å¢åŠ  */
html[data-elderly-mode='true'] .setting-item,
html[data-elderly-mode='true'] .publish-item,
html[data-elderly-mode='true'] .order-card {
  margin-bottom: 20px !important;
  padding: 20px !important;
}

/* æ–‡æœ¬å¤§å°è°ƒæ•´ */
html[data-elderly-mode='true'] .page-title {
  font-size: 28px !important;
}

html[data-elderly-mode='true'] .label-title,
html[data-elderly-mode='true'] .publish-title {
  font-size: 20px !important;
}

html[data-elderly-mode='true'] .label-desc {
  font-size: 18px !important;
}

/* è¡Œé«˜å¢åŠ  */
html[data-elderly-mode='true'] body {
  line-height: 1.8 !important;
}

/* å¯¹æ¯”åº¦æå‡ */
html[data-elderly-mode='true'] .text-primary {
  color: #000000 !important;
}

html[data-elderly-mode='true'] .text-secondary {
  color: #404040 !important;
}

/* è¡¨å•å…ƒç´  */
html[data-elderly-mode='true'] .form-input,
html[data-elderly-mode='true'] .form-textarea {
  font-size: 20px !important;
  padding: 16px !important;
  line-height: 1.8 !important;
}

html[data-elderly-mode='true'] input[type="checkbox"] {
  width: 24px !important;
  height: 24px !important;
}

/* åˆ—è¡¨é¡¹é—´è· */
html[data-elderly-mode='true'] .setting-item,
html[data-elderly-mode='true'] .publish-item {
  gap: 20px !important;
}

/* æç¤ºæ–‡æœ¬ */
html[data-elderly-mode='true'] .form-hint,
html[data-elderly-mode='true'] .label-desc {
  color: #404040 !important;
  font-size: 18px !important;
}

/* Toast/å¼¹çª—æ–‡å­— */
html[data-elderly-mode='true'] .loading-spinner,
html[data-elderly-mode='true'] uni-toast {
  font-size: 20px !important;
}

/* æ ‡ç­¾é¡µ */
html[data-elderly-mode='true'] .tab-btn {
  font-size: 20px !important;
  padding: 12px 24px !important;
  min-height: 50px !important;
}
```

#### 4. `pages/user-center/settings.vue`
**ä¿®æ”¹å†…å®¹**ï¼šåœ¨"æ˜¾ç¤ºè®¾ç½®"ä¸­æ·»åŠ ç‰ˆæœ¬é€‰æ‹©

```vue
<!-- åœ¨æ˜¾ç¤ºè®¾ç½®éƒ¨åˆ†æ·»åŠ  -->
<div class="settings-section">
  <div class="section-title">æ˜¾ç¤ºè®¾ç½®</div>

  <!-- æ·±è‰²æ¨¡å¼ -->
  <div class="setting-item">
    <div class="setting-label">
      <div class="label-title">æ·±è‰²æ¨¡å¼</div>
      <div class="label-desc">åœ¨æ·±è‰²å’Œæµ…è‰²ä¸»é¢˜ä¹‹é—´åˆ‡æ¢</div>
    </div>
    <div class="setting-control">
      <input type="checkbox" :checked="isDarkMode" @change="toggleTheme" />
    </div>
  </div>

  <!-- åº”ç”¨ç‰ˆæœ¬ æ–°å¢ -->
  <div class="setting-item">
    <div class="setting-label">
      <div class="label-title">åº”ç”¨ç‰ˆæœ¬</div>
      <div class="label-desc">é€‰æ‹©é€‚åˆæ‚¨çš„ç•Œé¢é£æ ¼</div>
    </div>
    <div class="setting-control version-selector">
      <button
        class="version-btn"
        :class="{ active: settings.appVersion === 'standard' }"
        @click="switchAppVersion('standard')"
      >
        æ ‡å‡†ç‰ˆ
      </button>
      <button
        class="version-btn"
        :class="{ active: settings.appVersion === 'elderly' }"
        @click="switchAppVersion('elderly')"
      >
        è€äººç‰ˆ
      </button>
    </div>
  </div>
</div>
```

**Script éƒ¨åˆ†**ï¼š
```typescript
// åˆ‡æ¢åº”ç”¨ç‰ˆæœ¬
const switchAppVersion = (version: 'standard' | 'elderly') => {
  userStore.updateSettings({ appVersion: version })
  if (typeof uni === 'undefined') {
    alert(`å·²åˆ‡æ¢ä¸º${version === 'elderly' ? 'è€äººå‹å¥½ç‰ˆ' : 'æ ‡å‡†ç‰ˆ'}`)
  } else {
    uni.showToast({
      title: `å·²åˆ‡æ¢ä¸º${version === 'elderly' ? 'è€äººå‹å¥½ç‰ˆ' : 'æ ‡å‡†ç‰ˆ'}`,
      icon: 'success'
    })
  }
}
```

**æ ·å¼éƒ¨åˆ†**ï¼š
```scss
.version-selector {
  display: flex;
  gap: 12px;
  flex-shrink: 0;

  .version-btn {
    padding: 8px 16px;
    border: 2px solid $border-light;
    background-color: white;
    border-radius: $radius-md;
    font-size: $font-size-sm;
    cursor: pointer;
    transition: all $transition-base;

    &:hover {
      border-color: $primary-color;
    }

    &.active {
      background-color: $primary-color;
      color: white;
      border-color: $primary-color;
    }

    &:active {
      transform: scale(0.98);
    }
  }
}
```

---

## ğŸ“± ç•Œé¢ç¤ºä¾‹

### æ ‡å‡†ç‰ˆ vs è€äººå‹å¥½ç‰ˆå¯¹æ¯”

**è®¾ç½®é¡µé¢**
```
æ ‡å‡†ç‰ˆï¼š
â”Œâ”€ æ˜¾ç¤ºè®¾ç½®
â”œâ”€ æ·±è‰²æ¨¡å¼     [â˜]
â”œâ”€ åº”ç”¨ç‰ˆæœ¬     [æ ‡å‡†ç‰ˆ] [è€äººç‰ˆ]

è€äººå‹å¥½ç‰ˆï¼š
â”Œâ”€ æ˜¾ç¤ºè®¾ç½®
â”‚
â”œâ”€ æ·±è‰²æ¨¡å¼     [â˜]
â”‚
â”œâ”€ åº”ç”¨ç‰ˆæœ¬     [æ ‡å‡†ç‰ˆ] [è€äººç‰ˆ]
```

**å¡ç‰‡åˆ—è¡¨**
```
æ ‡å‡†ç‰ˆï¼ˆé«˜å¯†åº¦ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æˆ‘çš„äº¤æ˜“ 1 è¡Œæ–‡å­— â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æˆ‘çš„å‘å¸ƒ 1 è¡Œæ–‡å­— â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è€äººå‹å¥½ç‰ˆï¼ˆä½å¯†åº¦ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æˆ‘çš„äº¤æ˜“         â”‚
â”‚ 1 è¡Œæ–‡å­—        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æˆ‘çš„å‘å¸ƒ         â”‚
â”‚ 1 è¡Œæ–‡å­—        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… éªŒè¯æ¸…å•

### åŠŸèƒ½å®Œæˆåº¦
- [ ] `UserSettings` ç±»å‹æ·»åŠ  `appVersion` å­—æ®µ
- [ ] é»˜è®¤å€¼è®¾ç½®ä¸º 'standard'
- [ ] `App.vue` æ·»åŠ ç›‘å¬å’Œæ ·å¼
- [ ] è®¾ç½®é¡µé¢æ·»åŠ ç‰ˆæœ¬é€‰æ‹©æŒ‰é’®
- [ ] CSS æ ·å¼å®Œæ•´è¦†ç›–æ‰€æœ‰é¡µé¢
- [ ] ç‰ˆæœ¬åˆ‡æ¢å®æ—¶ç”Ÿæ•ˆ

### æµ‹è¯•æ­¥éª¤
- [ ] è¿›å…¥è®¾ç½®é¡µé¢ï¼Œç‚¹å‡»"è€äººç‰ˆ"æŒ‰é’®
- [ ] éªŒè¯å­—ä½“æ˜¯å¦æ”¾å¤§
- [ ] éªŒè¯æŒ‰é’®æ˜¯å¦æ›´å¤§
- [ ] éªŒè¯é—´è·æ˜¯å¦å¢åŠ 
- [ ] éªŒè¯åˆ‡å›"æ ‡å‡†ç‰ˆ"æ˜¯å¦æ¢å¤
- [ ] åˆ·æ–°é¡µé¢ï¼Œè®¾ç½®æ˜¯å¦ä¿æŒ
- [ ] åœ¨æ·±è‰²æ¨¡å¼ä¸‹åˆ‡æ¢ç‰ˆæœ¬æ˜¯å¦æ­£å¸¸

---

## ğŸ“ åç»­ä¼˜åŒ–æ–¹å‘

### ç¬¬äºŒé˜¶æ®µï¼ˆå¯é€‰ï¼‰
- [ ] è¯­éŸ³è¾…åŠ©ï¼ˆæ–‡å­—è½¬è¯­éŸ³ï¼‰
- [ ] æ”¾å¤§é•œåŠŸèƒ½
- [ ] ç®€åŒ–è¯­è¨€åŒ…ï¼ˆreplace ä¸“ä¸šæœ¯è¯­ï¼‰
- [ ] æ“ä½œæç¤ºåŠ¨ç”»ä¼˜åŒ–
- [ ] é•¿åˆ—è¡¨æ»šåŠ¨ä¼˜åŒ–

### ç¬¬ä¸‰é˜¶æ®µï¼ˆé•¿æœŸï¼‰
- [ ] å®¶æ—æ¨¡å¼ï¼ˆå­å¥³è¿œç¨‹å¸®åŠ©çˆ¶æ¯ï¼‰
- [ ] å¿«æ·æ‹¨å·ï¼ˆå¸¸ç”¨ç”µè¯å¿«é€Ÿæ¥å…¥ï¼‰
- [ ] å›¾æ–‡æ··åˆï¼ˆå‡å°‘æ–‡å­—ï¼Œå¢åŠ å›¾æ ‡ï¼‰

---

## ğŸ”„ éƒ¨ç½²æ­¥éª¤

1. ä¿®æ”¹ `stores/user.ts`ï¼ˆæ·»åŠ  appVersion å­—æ®µï¼‰
2. ä¿®æ”¹ `styles/variables.scss`ï¼ˆæ·»åŠ è€äººç‰ˆå˜é‡ï¼‰
3. ä¿®æ”¹ `App.vue`ï¼ˆæ·»åŠ ç›‘å¬å’Œå…¨å±€æ ·å¼ï¼‰
4. ä¿®æ”¹ `pages/user-center/settings.vue`ï¼ˆæ·»åŠ ç‰ˆæœ¬é€‰æ‹©ï¼‰
5. æµ‹è¯•éªŒè¯æ‰€æœ‰é¡µé¢åœ¨è€äººç‰ˆä¸‹çš„æ˜¾ç¤ºæ•ˆæœ
6. æ›´æ–°ç‰ˆæœ¬è®°å½•ï¼ˆv1.2.1ï¼‰

---

## ğŸ“Œ æ³¨æ„äº‹é¡¹

- ä½¿ç”¨ `!important` ç¡®ä¿æ ·å¼è¦†ç›–ï¼ˆå› ä¸ºéœ€è¦å…¨å±€ç”Ÿæ•ˆï¼‰
- ä¿æŒä¸¤ä¸ªç‰ˆæœ¬çš„åŠŸèƒ½å®Œå…¨ä¸€è‡´ï¼Œä»…æ”¹å˜ UI å±•ç°
- æµ‹è¯•æ—¶éœ€è¦åœ¨ä¸åŒå±å¹•å°ºå¯¸ï¼ˆæ‰‹æœºã€å¹³æ¿ï¼‰éªŒè¯
- æ·±è‰²æ¨¡å¼å’Œè€äººç‰ˆæœ¬å¯å åŠ ä½¿ç”¨

---

**æ–‡æ¡£å®Œæˆæ—¶é—´**ï¼š2026-02-15  
**å®¡æ ¸çŠ¶æ€**ï¼šå¾…ç”¨æˆ·ç¡®è®¤
