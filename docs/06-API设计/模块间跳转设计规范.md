# æ¨¡å—é—´è·³è½¬è®¾è®¡è§„èŒƒ

**é¡¹ç›®**ï¼šæ—…å±…æœåŠ¡ç«™  
**ç‰ˆæœ¬**ï¼šv1.0  
**æ—¥æœŸ**ï¼š2026-02-17  
**çŠ¶æ€**ï¼šè§„åˆ’ä¸­ï¼ˆå¾…å®ç°ï¼‰

---

## ä¸€ã€æ¦‚è¿°

æœ¬æ–‡æ¡£å®šä¹‰äº†å„æ¨¡å—ä¹‹é—´çš„è·³è½¬è§„èŒƒï¼ŒåŒ…æ‹¬è·¯ç”±è®¾è®¡ã€è·³è½¬æ–¹æ³•ã€å‚æ•°ä¼ é€’ç­‰ï¼Œç¡®ä¿å›¢é˜Ÿå¼€å‘çš„ä¸€è‡´æ€§ã€‚

---

## äºŒã€è·¯ç”±ç»“æ„è§„åˆ’

### 2.1 é¡µé¢å±‚çº§

```
é¦–é¡µ (/)
â”œâ”€â”€ ç”¨æˆ·ä¸­å¿ƒ (/pages/user-center/*)
â”œâ”€â”€ æ°‘å®¿ (/pages/house/*)
â”œâ”€â”€ æŠ€èƒ½ (/pages/skill/*)
â”œâ”€â”€ æ´»åŠ¨ (/pages/activity/*)
â”œâ”€â”€ å¹¿åœº (/pages/square/*)
â”œâ”€â”€ æ¶ˆæ¯ (/pages/message/*)
â””â”€â”€ å…¶ä»– (/pages/*/*)
```

### 2.2 å®Œæ•´è·¯ç”±è¡¨

| è·¯å¾„ | æ¨¡å— | è¯´æ˜ | çŠ¶æ€ |
|------|------|------|------|
| `/` | é¦–é¡µ | é¦–é¡µ/æ¨è | âœ… |
| `/pages/user-center/index` | ç”¨æˆ·ä¸­å¿ƒ | ç”¨æˆ·ä¸­å¿ƒé¦–é¡µ | âœ… |
| `/pages/user-center/edit-profile` | ç”¨æˆ·ä¸­å¿ƒ | ç¼–è¾‘èµ„æ–™ | âœ… |
| `/pages/user-center/order-list` | ç”¨æˆ·ä¸­å¿ƒ | æˆ‘çš„äº¤æ˜“ | âœ… |
| `/pages/user-center/publish-list` | ç”¨æˆ·ä¸­å¿ƒ | æˆ‘çš„å‘å¸ƒ | âœ… |
| `/pages/user-center/history-list` | ç”¨æˆ·ä¸­å¿ƒ | æµè§ˆå†å² | âœ… |
| `/pages/user-center/service-support` | ç”¨æˆ·ä¸­å¿ƒ | æœåŠ¡ä¸æ”¯æŒ | âœ… |
| `/pages/user-center/settings` | ç”¨æˆ·ä¸­å¿ƒ | è®¾ç½® | âœ… |
| `/pages/house/index` | æ°‘å®¿ | æ°‘å®¿åˆ—è¡¨ | ğŸ”„ å¾…å¼€å‘ |
| `/pages/house/detail/:id` | æ°‘å®¿ | æ°‘å®¿è¯¦æƒ… | ğŸ”„ å¾…å¼€å‘ |
| `/pages/house/book/:id` | æ°‘å®¿ | é¢„è®¢æ°‘å®¿ | ğŸ”„ å¾…å¼€å‘ |
| `/pages/skill/index` | æŠ€èƒ½ | æŠ€èƒ½åˆ—è¡¨ | ğŸ”„ å¾…å¼€å‘ |
| `/pages/skill/detail/:id` | æŠ€èƒ½ | æŠ€èƒ½è¯¦æƒ… | ğŸ”„ å¾…å¼€å‘ |
| `/pages/skill/book/:id` | æŠ€èƒ½ | é¢„è®¢æŠ€èƒ½ | ğŸ”„ å¾…å¼€å‘ |
| `/pages/activity/index` | æ´»åŠ¨ | æ´»åŠ¨åˆ—è¡¨ | ğŸ”„ å¾…å¼€å‘ |
| `/pages/activity/detail/:id` | æ´»åŠ¨ | æ´»åŠ¨è¯¦æƒ… | ğŸ”„ å¾…å¼€å‘ |
| `/pages/activity/join/:id` | æ´»åŠ¨ | æŠ¥åæ´»åŠ¨ | ğŸ”„ å¾…å¼€å‘ |
| `/pages/square/index` | å¹¿åœº | å¹¿åœºé¦–é¡µ | ğŸ”„ å¾…å¼€å‘ |
| `/pages/square/detail/:id` | å¹¿åœº | å¸–å­è¯¦æƒ… | ğŸ”„ å¾…å¼€å‘ |
| `/pages/square/post-create` | å¹¿åœº | å‘å¸ƒå¸–å­ | ğŸ”„ å¾…å¼€å‘ |
| `/pages/message/index` | æ¶ˆæ¯ | æ¶ˆæ¯åˆ—è¡¨ | ğŸ”„ å¾…å¼€å‘ |
| `/pages/message/chat/:id` | æ¶ˆæ¯ | èŠå¤©é¡µé¢ | ğŸ”„ å¾…å¼€å‘ |

---

## ä¸‰ã€è·³è½¬è§„èŒƒ

### 3.1 è·³è½¬æ–¹æ³•

**æ–¹å¼ Aï¼šæµè§ˆå™¨ç¯å¢ƒï¼ˆVue Routerï¼‰**

```typescript
import { useRouter } from 'vue-router'

const router = useRouter()

// ç®€å•è·³è½¬
router.push('/pages/house/index')

// è·³è½¬å¸¦å‚æ•°
router.push({
  path: '/pages/house/detail/123',
  query: { source: 'user-center' }
})

// è¿”å›
router.back()
```

**æ–¹å¼ Bï¼šuni-app ç¯å¢ƒ**

```typescript
// å¯¼èˆªåˆ°æ–°é¡µé¢
uni.navigateTo({
  url: '/pages/house/index'
})

// è¿”å›ä¸Šä¸€é¡µ
uni.navigateBack()

// åˆ‡æ¢ tab
uni.switchTab({
  url: '/pages/index/index'
})
```

### 3.2 è·³è½¬åœºæ™¯

| åœºæ™¯ | è·³è½¬ç›®æ ‡ | è¯´æ˜ |
|------|----------|------|
| ç”¨æˆ·å¤´åƒç‚¹å‡» | `/pages/user-center/index` | è¿›å…¥ç”¨æˆ·ä¸­å¿ƒ |
| ç¼–è¾‘èµ„æ–™ | `/pages/user-center/edit-profile` | ç¼–è¾‘ä¸ªäººä¿¡æ¯ |
| æ°‘å®¿å¡ç‰‡ç‚¹å‡» | `/pages/house/detail/:id` | æŸ¥çœ‹æ°‘å®¿è¯¦æƒ… |
| æ°‘å®¿é¢„è®¢ | `/pages/house/book/:id` | å¼€å§‹é¢„è®¢æµç¨‹ |
| æŠ€èƒ½å¡ç‰‡ç‚¹å‡» | `/pages/skill/detail/:id` | æŸ¥çœ‹æŠ€èƒ½è¯¦æƒ… |
| æŠ€èƒ½é¢„è®¢ | `/pages/skill/book/:id` | é¢„çº¦æŠ€èƒ½æœåŠ¡ |
| æ´»åŠ¨å¡ç‰‡ç‚¹å‡» | `/pages/activity/detail/:id` | æŸ¥çœ‹æ´»åŠ¨è¯¦æƒ… |
| æ´»åŠ¨æŠ¥å | `/pages/activity/join/:id` | æŠ¥åæ´»åŠ¨ |
| å¹¿åœºå¸–å­ç‚¹å‡» | `/pages/square/detail/:id` | æŸ¥çœ‹å¸–å­ |
| å‘å¸ƒå¸–å­ | `/pages/square/post-create` | åˆ›å»ºæ–°å¸–å­ |
| æ¶ˆæ¯é€šçŸ¥ | `/pages/message/index` | æŸ¥çœ‹æ¶ˆæ¯ |
| èŠå¤© | `/pages/message/chat/:userId` | è¿›å…¥èŠå¤© |

---

## å››ã€å‚æ•°ä¼ é€’è§„èŒƒ

### 4.1 URL å‚æ•°ï¼ˆPath Paramsï¼‰

ç”¨äºå¿…éœ€çš„ã€æ ‡è¯†èµ„æºçš„å‚æ•°ï¼š

```typescript
// å®šä¹‰ï¼š/pages/house/detail/:id
// ä½¿ç”¨
router.push(`/pages/house/detail/123`)
router.push(`/pages/message/chat/456`)

// æ¥æ”¶
import { useRoute } from 'vue-router'
const route = useRoute()
const id = route.params.id
```

### 4.2 æŸ¥è¯¢å‚æ•°ï¼ˆQuery Paramsï¼‰

ç”¨äºå¯é€‰çš„ã€è¿‡æ»¤/æ’åºçš„å‚æ•°ï¼š

```typescript
// ä½¿ç”¨
router.push({
  path: '/pages/house/index',
  query: {
    category: 'å±±æ™¯',
    minPrice: 100,
    maxPrice: 500,
    source: 'user-center'  // æ¥æºè¿½è¸ª
  }
})

// æ¥æ”¶
const route = useRoute()
const category = route.query.category
const source = route.query.source
```

### 4.3 å‚æ•°ç¤ºä¾‹

```typescript
// æ°‘å®¿è¯¦æƒ… - ç®€å•å‚æ•°
router.push(`/pages/house/detail/123`)

// æ°‘å®¿åˆ—è¡¨ - å¤æ‚æŸ¥è¯¢
router.push({
  path: '/pages/house/index',
  query: {
    category: 'å±±æ™¯',
    minPrice: 100,
    maxPrice: 500,
    location: 'å¤§ç†',
    sort: 'price_asc'
  }
})

// èŠå¤© - å¸¦ç”¨æˆ·ä¿¡æ¯
router.push({
  path: `/pages/message/chat/456`,
  query: {
    userName: 'Alice',
    avatar: 'https://...'
  }
})
```

---

## äº”ã€è¿”å›æŒ‰é’®å¤„ç†

### 5.1 è¿”å›é€»è¾‘

```typescript
// å¦‚æœæœ‰æµè§ˆå†å²ï¼Œè¿”å›ä¸Šä¸€é¡µ
// å¦åˆ™è¿”å›é¦–é¡µ
const goBack = () => {
  if (window.history.length > 1) {
    router.back()
  } else {
    router.push('/')
  }
}
```

### 5.2 é€šç”¨è¿”å›ç»„ä»¶

```vue
<!-- components/BackButton.vue -->
<template>
  <button @click="goBack" class="back-btn">
    â† è¿”å›
  </button>
</template>

<script setup lang="ts">
import { useRouter } from 'vue-router'

const router = useRouter()

const goBack = () => {
  if (window.history.length > 1) {
    router.back()
  } else {
    router.push('/')
  }
}
</script>
```

---

## å…­ã€è·³è½¬å¸¸é‡ç®¡ç†

### 6.1 åˆ›å»º links.ts

**æ–‡ä»¶ä½ç½®**ï¼š`utils/links.ts`

```typescript
// ç»Ÿä¸€ç®¡ç†æ‰€æœ‰è·³è½¬é“¾æ¥ï¼Œé¿å…ç¡¬ç¼–ç 

export const LINKS = {
  // é¦–é¡µ
  HOME: '/',
  
  // ç”¨æˆ·ä¸­å¿ƒ
  USER_CENTER: '/pages/user-center/index',
  USER_EDIT_PROFILE: '/pages/user-center/edit-profile',
  USER_ORDER_LIST: '/pages/user-center/order-list',
  USER_PUBLISH_LIST: '/pages/user-center/publish-list',
  USER_HISTORY: '/pages/user-center/history-list',
  USER_SERVICE: '/pages/user-center/service-support',
  USER_SETTINGS: '/pages/user-center/settings',
  
  // æ°‘å®¿æ¨¡å—
  HOUSE_LIST: '/pages/house/index',
  HOUSE_DETAIL: (id: string) => `/pages/house/detail/${id}`,
  HOUSE_BOOK: (id: string) => `/pages/house/book/${id}`,
  
  // æŠ€èƒ½æ¨¡å—
  SKILL_LIST: '/pages/skill/index',
  SKILL_DETAIL: (id: string) => `/pages/skill/detail/${id}`,
  SKILL_BOOK: (id: string) => `/pages/skill/book/${id}`,
  
  // æ´»åŠ¨æ¨¡å—
  ACTIVITY_LIST: '/pages/activity/index',
  ACTIVITY_DETAIL: (id: string) => `/pages/activity/detail/${id}`,
  ACTIVITY_JOIN: (id: string) => `/pages/activity/join/${id}`,
  
  // å¹¿åœºæ¨¡å—
  SQUARE_LIST: '/pages/square/index',
  SQUARE_DETAIL: (id: string) => `/pages/square/detail/${id}`,
  SQUARE_POST_CREATE: '/pages/square/post-create',
  
  // æ¶ˆæ¯æ¨¡å—
  MESSAGE_LIST: '/pages/message/index',
  MESSAGE_CHAT: (userId: string) => `/pages/message/chat/${userId}`
}
```

### 6.2 ä½¿ç”¨ links.ts

```typescript
import { LINKS } from '@/utils/links'
import { useRouter } from 'vue-router'

const router = useRouter()

// è·³è½¬åˆ°æ°‘å®¿è¯¦æƒ…
router.push(LINKS.HOUSE_DETAIL('123'))

// è·³è½¬åˆ°èŠå¤©
router.push(LINKS.MESSAGE_CHAT('456'))

// è¿”å›é¦–é¡µ
router.push(LINKS.HOME)
```

---

## ä¸ƒã€å¯¼èˆªèœå•è®¾è®¡

### 7.1 åº•éƒ¨ Tab èœå•ï¼ˆæ¨èï¼‰

```vue
<template>
  <div class="app">
    <!-- ä¸»å†…å®¹ -->
    <router-view />
    
    <!-- åº•éƒ¨èœå• -->
    <div class="tab-bar">
      <button
        v-for="tab in tabs"
        :key="tab.path"
        :class="{ active: isActive(tab.path) }"
        @click="navigateTo(tab.path)"
      >
        {{ tab.label }}
      </button>
    </div>
  </div>
</template>

<script setup lang="ts">
import { useRouter } from 'vue-router'
import { LINKS } from '@/utils/links'

const router = useRouter()

const tabs = [
  { label: 'é¦–é¡µ', path: LINKS.HOME },
  { label: 'æ°‘å®¿', path: LINKS.HOUSE_LIST },
  { label: 'æŠ€èƒ½', path: LINKS.SKILL_LIST },
  { label: 'å¹¿åœº', path: LINKS.SQUARE_LIST },
  { label: 'æ¶ˆæ¯', path: LINKS.MESSAGE_LIST },
  { label: 'æˆ‘çš„', path: LINKS.USER_CENTER }
]

const isActive = (path: string) => {
  return router.currentRoute.value.path.startsWith(
    path === '/' ? '/' : path.split('/').slice(0, 3).join('/')
  )
}

const navigateTo = (path: string) => {
  router.push(path)
}
</script>

<style scoped>
.tab-bar {
  display: flex;
  gap: 10px;
  padding: 10px;
  border-top: 1px solid #ddd;
  position: fixed;
  bottom: 0;
  width: 100%;
}

.tab-bar button {
  flex: 1;
  padding: 10px;
  border: none;
  background: #f0f0f0;
  cursor: pointer;
}

.tab-bar button.active {
  background: #007bff;
  color: white;
}
</style>
```

---

## å…«ã€è·³è½¬è¿½è¸ª

### 8.1 æ¥æºæ ‡è®°

ä¸ºäº†è¿½è¸ªç”¨æˆ·çš„è¡Œä¸ºæµï¼Œå»ºè®®åœ¨è·³è½¬æ—¶æ·»åŠ  `source` å‚æ•°ï¼š

```typescript
// ä»ç”¨æˆ·ä¸­å¿ƒè·³è½¬åˆ°æ°‘å®¿
router.push({
  path: LINKS.HOUSE_LIST,
  query: { source: 'user-center' }
})

// åœ¨æ°‘å®¿é¡µé¢æ¥æ”¶æ¥æº
const route = useRoute()
const source = route.query.source  // 'user-center'
```

### 8.2 åº”ç”¨åœºæ™¯

| æ¥æº | è¯´æ˜ |
|------|------|
| `source=home` | ä»é¦–é¡µè¿›å…¥ |
| `source=user-center` | ä»ç”¨æˆ·ä¸­å¿ƒè¿›å…¥ |
| `source=search` | ä»æœç´¢ç»“æœè¿›å…¥ |
| `source=notification` | ä»é€šçŸ¥è¿›å…¥ |
| `source=share` | ä»åˆ†äº«é“¾æ¥è¿›å…¥ |

---

## ä¹ã€å®ç°æ­¥éª¤

### 9.1 ç¬¬ä¸€é˜¶æ®µï¼ˆç°åœ¨ï¼‰
- [ ] è¡¥å……æœ¬æ–‡æ¡£
- [ ] åœ¨ `utils/links.ts` ä¸­å®šä¹‰æ‰€æœ‰è·³è½¬å¸¸é‡
- [ ] é€šçŸ¥å…¶ä»–å¼€å‘äººå‘˜æ­¤è§„èŒƒ

### 9.2 ç¬¬äºŒé˜¶æ®µï¼ˆå¼€å‘æ°‘å®¿æ¨¡å—æ—¶ï¼‰
- [ ] åœ¨ `router/index.ts` ä¸­æ·»åŠ æ°‘å®¿æ¨¡å—è·¯ç”±
- [ ] å®ç°æ°‘å®¿åˆ—è¡¨å’Œè¯¦æƒ…é¡µé¢
- [ ] åœ¨æ°‘å®¿é¡µé¢æ·»åŠ è·³è½¬åˆ°å…¶ä»–æ¨¡å—çš„æŒ‰é’®

### 9.3 ç¬¬ä¸‰é˜¶æ®µï¼ˆå¼€å‘å…¶ä»–æ¨¡å—ï¼‰
- [ ] ä¾æ¬¡å¼€å‘æŠ€èƒ½ã€æ´»åŠ¨ã€å¹¿åœºã€æ¶ˆæ¯æ¨¡å—
- [ ] æ¯ä¸ªæ¨¡å—éƒ½éµå¾ªæœ¬è§„èŒƒ

### 9.4 ç¬¬å››é˜¶æ®µï¼ˆé›†æˆé˜¶æ®µï¼‰
- [ ] ç»Ÿä¸€æ·»åŠ åº•éƒ¨ Tab èœå•
- [ ] æµ‹è¯•æ‰€æœ‰è·³è½¬æ˜¯å¦æ­£å¸¸
- [ ] ä¼˜åŒ–è·¯ç”±è½¬æ¢åŠ¨ç”»

---

## åã€å¸¸è§é—®é¢˜

### Q1ï¼šå¦‚ä½•åŒºåˆ† router.push() å’Œ uni.navigateTo()?

**Answer**ï¼š
- `router.push()` - ç”¨äºæµè§ˆå™¨ç¯å¢ƒï¼ˆWebï¼‰
- `uni.navigateTo()` - ç”¨äº uni-app ç¯å¢ƒï¼ˆå°ç¨‹åºã€Appï¼‰

ç›®å‰é¡¹ç›®ä¸»è¦æ˜¯ Webï¼Œæ‰€ä»¥ä¼˜å…ˆä½¿ç”¨ `router.push()`ã€‚

### Q2ï¼šå‚æ•°å¤ªå¤šæ€ä¹ˆåŠï¼Ÿ

**Answer**ï¼šä½¿ç”¨ `query` å¯¹è±¡è€Œä¸æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ï¼š

```typescript
// âŒ ä¸æ¨è
const url = `/pages/house/index?a=1&b=2&c=3&d=4`

// âœ… æ¨è
router.push({
  path: '/pages/house/index',
  query: { a: 1, b: 2, c: 3, d: 4 }
})
```

### Q3ï¼šå¦‚ä½•å¤„ç†åµŒå¥—è·¯ç”±ï¼Ÿ

**Answer**ï¼šç›®å‰ä¸è€ƒè™‘åµŒå¥—è·¯ç”±ï¼Œæ‰€æœ‰é¡µé¢éƒ½æ˜¯å¹³çº§çš„ã€‚å¦‚æœéœ€è¦å­é¡µé¢ï¼Œç”¨å•ç‹¬çš„è·¯ç”±è€Œä¸æ˜¯åµŒå¥—ã€‚

---

## åä¸€ã€å¾…è¡¥å……å†…å®¹

- [ ] è·¯ç”±å®ˆå«ï¼ˆæƒé™æ£€æŸ¥ï¼‰
- [ ] é¡µé¢è¿‡æ¸¡åŠ¨ç”»
- [ ] æ·±é“¾æ¥æ”¯æŒï¼ˆäºŒç»´ç åˆ†äº«ï¼‰
- [ ] æ€§èƒ½ç›‘æ§

---

**ç‰ˆæœ¬å†å²**

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¿®æ”¹ |
|------|------|------|
| v1.0 | 2026-02-17 | åˆå§‹ç‰ˆæœ¬ |

