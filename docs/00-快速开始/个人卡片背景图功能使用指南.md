# 个人卡片背景图功能使用指南

## 📖 用户使用指南

### 🎯 功能概述

个人卡片背景图功能允许用户自定义用户卡片的背景，提供了两种选择方式：

1. **预设背景**：8 种精美的渐变背景
2. **自定义背景**：上传自己的图片作为背景

---

## 🚀 快速开始

### 第一步：打开背景选择器

1. 打开应用，进入用户中心页面
2. 找到顶部的用户卡片（绿色卡片）
3. 点击卡片右上角的 **"🎨 编辑背景"** 按钮

![编辑背景按钮位置]

### 第二步：选择背景

#### 方式一：选择预设背景

1. 在模态框中找到 **"预设背景"** 区域
2. 看到 8 个不同颜色的背景选项
3. 点击你喜欢的背景
4. 预览区域会实时显示效果

**可用的预设背景**：
- 🟢 **绿色渐变** - 清爽自然
- 🔵 **蓝色渐变** - 专业沉静
- 🟣 **紫色渐变** - 优雅神秘
- 🟠 **橙色渐变** - 温暖活力
- 🔴 **红色渐变** - 热情奔放
- ⚫ **深灰渐变** - 简约高级
- 🔷 **青色渐变** - 清爽现代
- 🩷 **粉色渐变** - 甜蜜温柔

#### 方式二：上传自定义背景

1. 在模态框中找到 **"自定义背景"** 区域
2. 点击 **"📁 选择图片"** 按钮
3. 从电脑中选择一张图片
4. 系统会自动处理和压缩
5. 预览区域会显示上传的图片

**支持的图片格式**：
- JPG（推荐）
- PNG
- WebP

**文件大小限制**：
- 最大 500KB
- 超过限制会自动拒绝

### 第三步：预览效果

在模态框的 **"预览效果"** 区域，你可以看到：
- 用户头像
- 用户昵称
- 身份标签
- 选中背景的实际效果

这样你可以在确认前看到最终效果。

### 第四步：确认保存

1. 对预览效果满意后，点击 **"确认"** 按钮
2. 模态框会自动关闭
3. 用户卡片的背景会立即更新
4. 你的选择会自动保存

---

## 💡 使用技巧

### 技巧 1：快速切换背景

- 可以随时点击 "🎨 编辑背景" 按钮
- 选择不同的背景进行切换
- 每次选择都会自动保存

### 技巧 2：预览对比

- 在确认前，可以多次点击不同背景
- 预览区域会实时更新
- 找到最满意的效果再确认

### 技巧 3：上传自己的照片

- 可以上传自己喜欢的照片作为背景
- 系统会自动优化和压缩
- 不用担心文件过大

### 技巧 4：背景持久化

- 选择的背景会自动保存
- 即使关闭应用也不会丢失
- 下次打开时会显示之前选择的背景

### 技巧 5：取消操作

- 如果不想保存，点击 "取消" 按钮
- 或点击模态框右上角的 "✕" 关闭
- 之前的背景会保持不变

---

## 🎨 背景选择建议

### 根据身份选择

**村民身份**：
- 推荐：绿色渐变、青色渐变
- 理由：显得亲切自然

**数字游民身份**：
- 推荐：蓝色渐变、紫色渐变
- 理由：显得专业国际范

### 根据季节选择

**春季**：
- 推荐：绿色渐变、粉色渐变
- 理由：清爽温柔

**夏季**：
- 推荐：青色渐变、蓝色渐变
- 理由：清凉舒适

**秋季**：
- 推荐：橙色渐变、红色渐变
- 理由：温暖活力

**冬季**：
- 推荐：深灰渐变、紫色渐变
- 理由：沉静优雅

### 根据心情选择

**开心**：
- 推荐：橙色渐变、粉色渐变
- 理由：温暖活力

**专注**：
- 推荐：蓝色渐变、深灰渐变
- 理由：沉静专业

**创意**：
- 推荐：紫色渐变、自定义背景
- 理由：独特个性

---

## ❓ 常见问题

### Q1：上传的图片为什么被压缩了？

**A**：为了优化性能和存储空间，系统会自动将图片压缩至 80% 质量。这样可以：
- 加快加载速度
- 节省存储空间
- 保持良好的显示效果

### Q2：支持哪些图片格式？

**A**：支持以下格式：
- JPG（推荐，文件最小）
- PNG（支持透明度）
- WebP（现代格式，文件最小）

### Q3：文件大小有限制吗？

**A**：是的，最大 500KB。如果你的图片超过这个大小：
1. 可以使用图片编辑工具压缩
2. 或者选择预设背景
3. 系统会自动拒绝过大的文件

### Q4：背景选择会保存到服务器吗？

**A**：不会。背景选择完全保存在你的本地设备上：
- 浏览器环境：保存在 localStorage
- uni-app 环境：保存在本地存储
- 完全私密，不上传到服务器

### Q5：如何重置为默认背景？

**A**：很简单：
1. 点击 "🎨 编辑背景"
2. 选择 "绿色渐变"（默认背景）
3. 点击 "确认"

### Q6：可以同时使用多个背景吗？

**A**：不可以。每个用户只能有一个背景。但你可以随时切换。

### Q7：背景会影响其他用户看到的内容吗？

**A**：不会。背景选择只在你的设备上显示，其他用户看到的是他们自己选择的背景。

### Q8：如果我删除了应用，背景会丢失吗？

**A**：
- **浏览器环境**：清除浏览器数据时会丢失
- **uni-app 环境**：卸载应用时会丢失
- 建议定期备份重要数据

### Q9：可以分享我的背景给其他用户吗？

**A**：目前不支持直接分享。但你可以：
1. 告诉朋友你选择的背景名称
2. 朋友可以选择相同的预设背景
3. 或者分享你上传的图片文件

### Q10：背景选择会影响性能吗？

**A**：不会。背景选择对性能的影响极小：
- 预设背景：使用 CSS 渐变，性能最优
- 自定义背景：已自动压缩，性能良好
- 不会导致应用卡顿或崩溃

---

## 🔧 开发者指南

### 集成背景功能

如果你是开发者，想在其他组件中使用背景功能，可以这样做：

#### 导入服务

```typescript
import { 
  getBackgroundStyle, 
  getUserBackground,
  saveUserBackground,
  getDefaultBackgrounds 
} from '@/services/background'
```

#### 获取背景样式

```typescript
// 获取当前用户选择的背景样式
const backgroundStyle = getBackgroundStyle()

// 在模板中使用
<div :style="backgroundStyle">
  <!-- 内容 -->
</div>
```

#### 获取用户背景信息

```typescript
// 获取用户选择的背景信息
const userBackground = getUserBackground()

// 返回格式
{
  type: 'default' | 'custom',      // 背景类型
  backgroundId?: string,            // 预设背景 ID
  imageUrl?: string,                // 自定义图片 URL
  uploadTime?: string               // 上传时间
}
```

#### 保存背景选择

```typescript
// 保存预设背景
saveUserBackground('blue')

// 保存自定义背景
saveUserBackground('', imageDataUrl)
```

#### 获取预设背景列表

```typescript
// 获取所有预设背景
const backgrounds = getDefaultBackgrounds()

// 返回格式
[
  {
    id: 'green',
    name: '绿色渐变',
    gradient: 'linear-gradient(135deg, #4CAF50 0%, #81C784 100%)'
  },
  // ... 其他背景
]
```

### 自定义背景

如果你想添加更多预设背景，可以编辑 `services/background.ts`：

```typescript
export const DEFAULT_BACKGROUNDS = [
  // 现有背景...
  {
    id: 'custom-id',
    name: '自定义背景名称',
    gradient: 'linear-gradient(135deg, #color1 0%, #color2 100%)'
  }
]
```

### 扩展功能

可能的扩展方向：

1. **背景分类**：按风景、抽象、渐变等分类
2. **背景位置调整**：支持背景位置微调
3. **亮度调整**：支持调整背景亮度
4. **动画效果**：添加背景动画
5. **云端同步**：跨设备同步背景选择
6. **背景分享**：分享背景给其他用户

---

## 📱 跨平台说明

### 浏览器环境

- ✅ 完全支持
- ✅ 所有功能可用
- ✅ 背景保存在 localStorage

### uni-app 环境

- ✅ 完全支持
- ✅ 所有功能可用
- ✅ 背景保存在本地存储

### 微信小程序

- ✅ 完全支持
- ✅ 所有功能可用
- ✅ 背景保存在本地存储

---

## 🎓 最佳实践

### 1. 定期更换背景

- 根据心情或季节更换背景
- 保持个人卡片的新鲜感
- 展现不同的个性

### 2. 选择高质量图片

- 上传清晰的图片
- 避免过于复杂的图案
- 确保文字清晰可读

### 3. 考虑可读性

- 选择与文字颜色对比度高的背景
- 避免过于鲜艳的颜色
- 确保用户信息清晰可见

### 4. 保持一致性

- 选择与个人风格相符的背景
- 保持专业或个性的统一
- 定期更新以保持活力

### 5. 备份重要数据

- 定期导出个人信息
- 不要依赖单一设备
- 保护个人隐私

---

## 📞 获取帮助

### 遇到问题？

1. **查看常见问题**：本指南的 FAQ 部分
2. **查看测试指南**：`个人卡片背景图功能测试指南.md`
3. **查看实现报告**：`个人卡片背景图功能实现完成报告.md`
4. **提交反馈**：通过项目反馈渠道

### 功能建议

如果你有功能建议或改进意见，欢迎：
- 提交 Issue
- 发送反馈
- 参与讨论

---

## 📝 更新日志

### v1.0.0 (2026-02-12)

**新增功能**：
- ✅ 8 种预设渐变背景
- ✅ 自定义图片上传
- ✅ 实时预览效果
- ✅ 智能图片压缩
- ✅ 跨平台存储支持

**改进**：
- ✅ 完整的错误处理
- ✅ 友好的用户界面
- ✅ 详细的文档说明

---

## 🎉 总结

个人卡片背景图功能为你提供了：

✅ **8 种精美背景** - 开箱即用  
✅ **自定义上传** - 展现个性  
✅ **实时预览** - 所见即所得  
✅ **智能压缩** - 性能优化  
✅ **永久保存** - 不会丢失  
✅ **跨平台支持** - 随处可用  

现在就开始个性化你的用户卡片吧！

---

**使用指南版本**：1.0.0  
**最后更新**：2026-02-12  
**维护者**：Kiro AI Assistant
