<view class="container {{theme === 'dark' ? 'dark' : ''}} {{elderMode ? 'elder-mode' : ''}}" data-theme="{{theme}}" data-elder="{{elderMode ? 'true' : 'false'}}">
  <!-- èƒŒæ™¯è£…é¥° -->
  <view class="bg-decorations">
    <image class="bg-mountain" src="/images/backgrounds/å±±è„‰.jpg" mode="aspectFill"></image>
    <image class="bg-wave" src="/images/backgrounds/æ³¢æµª.jpg" mode="aspectFill"></image>
    <image class="bg-cloud" src="/images/backgrounds/äº‘æœµ.jpg" mode="aspectFit"></image>
  </view>
  
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="nav-bar">
    <view class="nav-title">å‘ç°æ°‘å®¿</view>
    <view class="nav-actions">
      <view class="nav-icon-btn" bindtap="onSearch">
        <image class="nav-icon-img" src="/images/icons/search.png" mode="aspectFit"></image>
      </view>
      <view class="nav-icon-btn" bindtap="onPublishHouse">
        <image class="nav-icon-img" src="/images/icons/å¢åŠ æ·»åŠ åŠ å·.png" mode="aspectFit"></image>
      </view>
      <view class="nav-icon-btn" bindtap="onFilter">
        <image class="nav-icon-img" src="/images/icons/æ¼æ–—.png" mode="aspectFit"></image>
      </view>
    </view>
  </view>

  <!-- è½®æ’­å›¾ -->
  <scroll-view scroll-x show-scrollbar="{{false}}" class="banner-scroll">
    <view class="banner-list">
      <view wx:for="{{banners}}" wx:key="index" bindtap="onBannerTap" data-index="{{index}}" class="banner-item">
        <image src="{{item.image}}" class="banner-image" mode="aspectFill"></image>
        <view class="banner-overlay">
          <text class="banner-title">{{item.title}}</text>
          <text class="banner-desc">{{item.desc}}</text>
        </view>
      </view>
    </view>
  </scroll-view>

  <!-- åˆ†ç±»å…¥å£ -->
  <view class="card category-card">
    <text class="section-title">çƒ­é—¨ç›®çš„åœ°</text>
    <view class="category-list">
      <view wx:for="{{categories}}" wx:key="index" bindtap="onCategoryTap" data-category="{{item.name}}" class="category-item">
        <image class="category-icon-img" src="{{item.iconSrc}}" mode="aspectFit"></image>
        <text class="category-name">{{item.name}}</text>
      </view>
    </view>
  </view>

  <!-- åœ°åŒºé€‰æ‹©å™¨ -->
  <view class="card region-selector" bindtap="showRegionPicker">
    <text class="region-icon">ğŸ“</text>
    <text class="region-label">å½“å‰åœ°åŒº</text>
    <text class="region-value">{{currentRegion}}</text>
    <text class="region-arrow">â–¼</text>
  </view>

  <!-- æ¨èæˆ¿æº -->
  <view class="section-header">
    <text class="section-title">çƒ­é—¨æ¨è</text>
    <text class="section-more" bindtap="onViewAll">æŸ¥çœ‹æ›´å¤š â€º</text>
  </view>

  <!-- æˆ¿æºåˆ—è¡¨ -->
  <view class="house-list">
    <view class="card house-card" wx:for="{{houses}}" wx:key="id" bindtap="onHouseTap" data-id="{{item.id}}">
      <image src="{{item.image}}" class="house-image" mode="aspectFill"></image>
      <view class="house-info">
        <view class="house-header">
          <text class="house-title">{{item.title}}</text>
          <text class="house-likes">â¤ï¸ {{item.likes || 0}}</text>
        </view>
        <text class="house-location">ğŸ“ {{item.location}}</text>
        <view class="house-price">
          <text class="price">Â¥{{item.price}}</text>
          <text class="unit">/{{item.unit}}</text>
        </view>
        <view class="house-tags">
          <text class="tag" wx:for="{{item.tags}}" wx:for-item="tag" wx:key="*this">#{{tag}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- åœ°åŒºé€‰æ‹©å¼¹çª— -->
  <view wx:if="{{showRegionModal}}" class="modal-overlay">
    <view class="modal-mask" bindtap="hideRegionPicker"></view>
    <view class="modal-content">
      <view class="modal-header">
        <text class="modal-title">é€‰æ‹©åœ°åŒº</text>
        <text class="modal-close" bindtap="hideRegionPicker">âœ•</text>
      </view>
      <scroll-view scroll-y class="modal-body">
        <view wx:for="{{regions}}" wx:key="index" bindtap="selectRegion" data-region="{{item}}" class="region-item {{currentRegion === item ? 'active' : ''}}">
          <text class="region-name">{{item}}</text>
          <text wx:if="{{currentRegion === item}}" class="region-check">âœ“</text>
        </view>
      </scroll-view>
    </view>
  </view>
</view>