<view class="container" data-theme="{{theme}}" data-elder="{{elderMode}}" style="background: var(--color-background); min-height: 100vh;">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="nav-bar">
    <view class="nav-title">ä¸ªäººä¸­å¿ƒ</view>
    <text bindtap="goToSettings" style="font-size: 40rpx;">âš™ï¸</text>
  </view>

  <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="card" style="margin: 30rpx; padding: 40rpx 30rpx; text-align: center;">
    <view style="position: relative; display: inline-block;">
      <image src="{{userInfo.avatar || 'https://picsum.photos/120/120?random=1'}}" style="width: 140rpx; height: 140rpx; border-radius: 50%; border: 4rpx solid var(--color-secondary);" mode="aspectFill"></image>
      <view style="position: absolute; bottom: 0; right: 0; width: 40rpx; height: 40rpx; background: var(--color-primary); border-radius: 50%; border: 4rpx solid white;"></view>
    </view>
    <view style="margin-top: 20rpx;">
      <text style="font-size: var(--font-size-large); font-weight: 600; color: var(--color-primary); display: block;">{{userInfo.name || 'æ—…è¡Œè€…'}}</text>
      <identity-badge identity="{{userInfo.role || 'æ‘æ°‘'}}" style="margin-top: 8rpx; display: inline-block;"></identity-badge>
    </view>
  </view>

  <!-- ç»Ÿè®¡æ•°æ® -->
  <view class="card" style="margin: 0 30rpx 20rpx;">
    <view style="display: flex; justify-content: space-around;">
      <view style="text-align: center;">
        <text style="font-size: var(--font-size-xl); font-weight: 600; color: var(--color-primary); display: block;">{{userInfo.postCount || 12}}</text>
        <text style="font-size: calc(var(--font-size-base) * 0.9); color: var(--color-text-light);">å‘å¸ƒ</text>
      </view>
      <view style="width: 2rpx; height: 60rpx; background: var(--color-border);"></view>
      <view style="text-align: center;">
        <text style="font-size: var(--font-size-xl); font-weight: 600; color: var(--color-primary); display: block;">{{userInfo.followerCount || 48}}</text>
        <text style="font-size: calc(var(--font-size-base) * 0.9); color: var(--color-text-light);">ç²‰ä¸</text>
      </view>
      <view style="width: 2rpx; height: 60rpx; background: var(--color-border);"></view>
      <view style="text-align: center;">
        <text style="font-size: var(--font-size-xl); font-weight: 600; color: var(--color-primary); display: block;">{{userInfo.followingCount || 23}}</text>
        <text style="font-size: calc(var(--font-size-base) * 0.9); color: var(--color-text-light);">å…³æ³¨</text>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="card" style="margin: 0 30rpx;">
    <!-- æˆ‘çš„å‘å¸ƒ -->
    <view bindtap="goToMyPosts" style="display: flex; align-items: center; padding: 30rpx 0; border-bottom: 2rpx solid var(--color-border);">
      <text style="font-size: 40rpx; width: 80rpx;">ğŸ“</text>
      <text style="flex: 1; font-size: var(--font-size-base); color: var(--color-text);">æˆ‘çš„å‘å¸ƒ</text>
      <text style="font-size: 28rpx; color: var(--color-text-light);">â€º</text>
    </view>

    <!-- æˆ‘çš„æ”¶è— -->
    <view bindtap="goToFavorites" style="display: flex; align-items: center; padding: 30rpx 0; border-bottom: 2rpx solid var(--color-border);">
      <text style="font-size: 40rpx; width: 80rpx;">â¤ï¸</text>
      <text style="flex: 1; font-size: var(--font-size-base); color: var(--color-text);">æˆ‘çš„æ”¶è—</text>
      <text style="font-size: 28rpx; color: var(--color-text-light);">â€º</text>
    </view>

    <!-- è‰ç¨¿ç®± -->
    <view bindtap="goToDrafts" style="display: flex; align-items: center; padding: 30rpx 0; border-bottom: 2rpx solid var(--color-border);">
      <text style="font-size: 40rpx; width: 80rpx;">ğŸ“¦</text>
      <text style="flex: 1; font-size: var(--font-size-base); color: var(--color-text);">è‰ç¨¿ç®±</text>
      <view wx:if="{{draftCount > 0}}" style="background: var(--color-accent); color: white; padding: 4rpx 16rpx; border-radius: 30rpx; font-size: 20rpx; margin-right: 20rpx;">{{draftCount}}</view>
      <text style="font-size: 28rpx; color: var(--color-text-light);">â€º</text>
    </view>

    <!-- æµè§ˆå†å² -->
    <view bindtap="goToHistory" style="display: flex; align-items: center; padding: 30rpx 0; border-bottom: 2rpx solid var(--color-border);">
      <text style="font-size: 40rpx; width: 80rpx;">ğŸ“š</text>
      <text style="flex: 1; font-size: var(--font-size-base); color: var(--color-text);">æµè§ˆå†å²</text>
      <text style="font-size: 28rpx; color: var(--color-text-light);">â€º</text>
    </view>

    <!-- è®¾ç½® -->
    <view bindtap="goToSettings" style="display: flex; align-items: center; padding: 30rpx 0;">
      <text style="font-size: 40rpx; width: 80rpx;">âš™ï¸</text>
      <text style="flex: 1; font-size: var(--font-size-base); color: var(--color-text);">è®¾ç½®</text>
      <text style="font-size: 28rpx; color: var(--color-text-light);">â€º</text>
    </view>
  </view>

  <!-- é€€å‡ºç™»å½• -->
  <view class="card" style="margin: 30rpx; background: none; border: 2rpx solid rgba(255,183,178,0.3);">
    <view bindtap="onLogout" style="text-align: center; padding: 30rpx;">
      <text style="font-size: var(--font-size-base); color: var(--color-accent);">é€€å‡ºç™»å½•</text>
    </view>
  </view>
</view>