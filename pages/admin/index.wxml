<view class="container">
  <!-- ç®¡ç†å‘˜å¤´éƒ¨ -->
  <view class="admin-header">
    <text class="admin-title">ç®¡ç†è€…åå°</text>
    <text class="admin-date">{{currentDate}}</text>
  </view>

  <!-- æ•°æ®å¡ç‰‡ -->
  <view class="stats-cards">
    <view class="stat-card" bindtap="goToUsers">
      <text class="stat-number">{{stats.userCount}}</text>
      <text class="stat-label">æ€»ç”¨æˆ·</text>
    </view>
    <view class="stat-card" bindtap="goToAudit">
      <text class="stat-number">{{stats.pendingCount}}</text>
      <text class="stat-label">å¾…å®¡æ ¸</text>
    </view>
    <view class="stat-card" bindtap="goToPosts">
      <text class="stat-number">{{stats.postCount}}</text>
      <text class="stat-label">å¸–å­</text>
    </view>
    <view class="stat-card" bindtap="goToHouses">
      <text class="stat-number">{{stats.houseCount}}</text>
      <text class="stat-label">æˆ¿æº</text>
    </view>
  </view>

  <!-- å¿«æ·å…¥å£ -->
  <view class="quick-actions">
    <view class="section-title">å¿«æ·æ“ä½œ</view>
    <view class="action-grid">
      <view class="action-item" bindtap="goToUsers">
        <text class="action-icon">ğŸ‘¥</text>
        <text class="action-text">ç”¨æˆ·ç®¡ç†</text>
      </view>
      <view class="action-item" bindtap="goToAudit">
        <text class="action-icon">ğŸ“‹</text>
        <text class="action-text">å†…å®¹å®¡æ ¸</text>
      </view>
      <view class="action-item" bindtap="goToStats">
        <text class="action-icon">ğŸ“Š</text>
        <text class="action-text">æ•°æ®ç»Ÿè®¡</text>
      </view>
      <view class="action-item" bindtap="goToSettings">
        <text class="action-icon">âš™ï¸</text>
        <text class="action-text">ç³»ç»Ÿè®¾ç½®</text>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘å¾…å®¡æ ¸åˆ—è¡¨ -->
  <view class="recent-section">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘å¾…å®¡æ ¸</text>
      <text class="section-more" bindtap="goToAudit">æŸ¥çœ‹æ›´å¤š ></text>
    </view>
    <view class="audit-list">
      <!-- ä¿®å¤äº†è¿™ä¸€è¡Œï¼šæŠŠ {{item._id}}="{{item.id}}" æ”¹æˆ data-id="{{item.id}}" -->
      <view class="audit-item" wx:for="{{pendingList}}" wx:key="id" bindtap="goToAuditDetail" data-id="{{item.id}}" data-type="{{item.type}}">
        <image class="audit-image" src="{{item.image}}" mode="aspectFill"></image>
        <view class="audit-info">
          <text class="audit-title">{{item.title}}</text>
          <text class="audit-meta">{{item.type}} Â· {{item.author}} Â· {{item.time}}</text>
        </view>
        <view class="audit-status pending">å¾…å®¡æ ¸</view>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘æ³¨å†Œç”¨æˆ· -->
  <view class="recent-section">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘æ³¨å†Œ</text>
      <text class="section-more" bindtap="goToUsers">æŸ¥çœ‹æ›´å¤š ></text>
    </view>
    <view class="user-list">
      <!-- ä¿®å¤äº†è¿™ä¸€è¡Œï¼šæŠŠ {{item._id}}="{{item.id}}" æ”¹æˆ data-id="{{item.id}}" -->
      <view class="user-item" wx:for="{{recentUsers}}" wx:key="id" bindtap="goToUserDetail" data-id="{{item.id}}">
        <image class="user-avatar" src="{{item.avatar}}" mode="aspectFill"></image>
        <view class="user-info">
          <view class="user-name-line">
            <text class="user-name">{{item.name}}</text>
            <text class="user-role {{item.role === 'æ•°å­—æ¸¸æ°‘' ? 'nomad' : 'villager'}}">{{item.role}}</text>
          </view>
          <text class="user-time">æ³¨å†Œæ—¶é—´ï¼š{{item.registerTime}}</text>
        </view>
      </view>
    </view>
  </view>
</view>