<!-- æˆ‘çš„å‘å¸ƒé¡µé¢ -->
<view class="page" data-theme="{{theme}}" data-elder="{{elderMode}}">
  <!-- å¯¼èˆªæ  -->
  <view class="page-header">
    <text class="back-btn" bindtap="goBack">â€¹ è¿”å›</text>
    <text class="add-btn" bindtap="addPublish">+ å‘å¸ƒ</text>
  </view>

  <!-- æ ‡ç­¾æ  -->
  <view class="tabs">
    <view 
      class="tab-item {{activeTab === 'all' ? 'active' : ''}}"
      bindtap="switchTab"
      data-tab="all"
    >
      <text>å…¨éƒ¨</text>
    </view>
    <view 
      class="tab-item {{activeTab === 'house' ? 'active' : ''}}"
      bindtap="switchTab"
      data-tab="house"
    >
      <text>æˆ¿æº</text>
    </view>
    <view 
      class="tab-item {{activeTab === 'activity' ? 'active' : ''}}"
      bindtap="switchTab"
      data-tab="activity"
    >
      <text>æ´»åŠ¨</text>
    </view>
    <view 
      class="tab-item {{activeTab === 'skill' ? 'active' : ''}}"
      bindtap="switchTab"
      data-tab="skill"
    >
      <text>æŠ€èƒ½</text>
    </view>
    <view 
      class="tab-item {{activeTab === 'share' ? 'active' : ''}}"
      bindtap="switchTab"
      data-tab="share"
    >
      <text>åˆ†äº«</text>
    </view>
  </view>

  <!-- å‘å¸ƒåˆ—è¡¨ -->
  <view class="content">
    <view 
      class="publish-card"
      wx:for="{{filteredList}}"
      wx:key="id"
      bindtap="viewDetail"
      data-id="{{item.id}}"
    >
      <image class="publish-image" src="{{item.image}}" mode="aspectFill"></image>
      
      <view class="publish-info">
        <view class="publish-header">
          <text class="publish-title">{{item.title}}</text>
          <text class="publish-type">{{item.typeText}}</text>
        </view>

        <view class="publish-meta">
          <text class="meta-item">ğŸ‘ {{item.views}} æµè§ˆ</text>
          <text class="meta-item">â¤ï¸ {{item.likes}} å–œæ¬¢</text>
          <text class="meta-item">ğŸ“… {{item.date}}</text>
        </view>

        <view class="publish-actions" catchtap="noop">
          <button 
            class="action-btn" 
            size="mini"
            catchtap="editPublish"
            data-id="{{item.id}}"
          >
            ç¼–è¾‘
          </button>
          <button 
            class="action-btn delete" 
            size="mini"
            catchtap="deletePublish"
            data-id="{{item.id}}"
          >
            åˆ é™¤
          </button>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty" wx:if="{{filteredList.length === 0}}">
      <text class="empty-icon">ğŸ“</text>
      <text class="empty-text">è¯¥åˆ†ç±»æš‚æ— å‘å¸ƒ</text>
      <button class="btn-primary" bindtap="addPublish">ç«‹å³å‘å¸ƒ</button>
    </view>
  </view>
</view>
