<view class="container {{theme === 'dark' ? 'dark' : ''}} {{elderMode ? 'elder-mode' : ''}}" data-theme="{{theme}}" data-elder="{{elderMode ? 'true' : 'false'}}">
  <!-- èƒŒæ™¯è£…é¥° -->
  <view class="bg-decorations">
    <image class="bg-mountain" src="/images/backgrounds/å±±è„‰.jpg" mode="aspectFill"></image>
  </view>
  
  <!-- ç±»å‹ç­›é€‰Tab -->
  <scroll-view scroll-x show-scrollbar="{{false}}" class="tab-scroll">
    <view class="tab-list">
      <view 
        wx:for="{{tabs}}" 
        wx:key="key"
        class="tab-item {{currentTab === item.key ? 'active' : ''}}"
        bindtap="switchTab"
        data-key="{{item.key}}">
        {{item.name}}
        <view wx:if="{{currentTab === item.key}}" class="tab-indicator"></view>
      </view>
    </view>
  </scroll-view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading-container">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:elif="{{isEmpty}}" class="empty-container">
    <view class="empty-icon">ğŸ“¦</view>
    <text class="empty-text">æš‚æ— è‰ç¨¿</text>
    <text class="empty-hint">å‘å¸ƒå†…å®¹æ—¶ä¼šè‡ªåŠ¨ä¿å­˜è‰ç¨¿</text>
  </view>

  <!-- è‰ç¨¿åˆ—è¡¨ -->
  <view wx:else class="draft-list">
    <view 
      class="draft-card card" 
      wx:for="{{filteredList}}" 
      wx:key="_id"
      wx:for-index="idx"
      wx:for-item="draft">
      
      <!-- è‰ç¨¿å¤´éƒ¨ -->
      <view class="draft-header">
        <view class="draft-type">
          <text class="type-icon">{{draft.typeIcon}}</text>
          <text class="type-name">{{draft.typeName}}</text>
        </view>
        <text class="draft-time">{{draft.timeText}}</text>
      </view>
      
      <!-- è‰ç¨¿æ ‡é¢˜ -->
      <view wx:if="{{draft.title}}" class="draft-title">
        <text>{{draft.title}}</text>
      </view>
      
      <!-- è‰ç¨¿é¢„è§ˆ -->
      <view class="draft-preview">
        <text>{{draft.previewText}}</text>
      </view>
      
      <!-- è‰ç¨¿å›¾ç‰‡ -->
      <view wx:if="{{draft.images && draft.images.length > 0}}" class="draft-images">
        <image 
          wx:for="{{draft.images}}" 
          wx:for-item="img" 
          wx:key="*this"
          wx:if="{{index < 3}}"
          class="draft-thumb" 
          src="{{img}}" 
          mode="aspectFill">
        </image>
        <view wx:if="{{draft.images.length > 3}}" class="more-images">
          +{{draft.images.length - 3}}
        </view>
      </view>
      
      <!-- æ“ä½œæŒ‰é’® -->
      <view class="draft-actions">
        <view class="action-btn edit-btn" catchtap="editDraft" data-draft="{{draft}}">
          <text class="action-icon">âœï¸</text>
          <text class="action-text">ç»§ç»­ç¼–è¾‘</text>
        </view>
        <view class="action-btn delete-btn" catchtap="deleteDraft" data-draft="{{draft}}" data-index="{{idx}}">
          <text class="action-icon">ğŸ—‘ï¸</text>
          <text class="action-text">åˆ é™¤</text>
        </view>
      </view>
    </view>
  </view>
</view>
