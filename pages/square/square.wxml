<view class="container">
  <!-- 顶部导航栏 -->
  <view class="header">
    <view class="search-bar" bindtap="onSearch">
  <text class="search-icon">🔍</text>
  <text class="search-text">搜索感兴趣的内容</text>
</view>
    <view class="publish-btn" bindtap="onPublish">
      <text class="publish-icon">✏️</text>
    </view>
  </view>
  
  <!-- 分类Tab -->
  <scroll-view class="tabs" scroll-x show-scrollbar="{{false}}">
    <view class="tab-list">
      <block wx:for="{{categories}}" wx:key="index">
        <view 
          class="tab-item {{currentTab === item.id ? 'active' : ''}}"
          bindtap="switchTab"
          data-tab="{{item.id}}"
        >
          {{item.name}}
        </view>
      </block>
    </view>
  </scroll-view>
  
  <!-- 帖子列表 -->
  <scroll-view 
    class="post-list" 
    scroll-y 
    enhanced
    show-scrollbar="{{false}}"
    refresher-enabled
    refresher-triggered="{{refreshing}}"
    bindrefresherrefresh="onRefresh"
    bindscrolltolower="onLoadMore"
  >
    <block wx:for="{{posts}}" wx:key="id">
      <post-card 
        post="{{item}}"
        bind:tap="onPostTap"
        bind:like="onPostLike"
        bind:collect="onPostCollect"
        bind:authorTap="onAuthorTap"
        bind:comment="onPostComment"
      ></post-card>
    </block>
    
    <view class="load-more" wx:if="{{hasMore}}">
      <text>加载中...</text>
    </view>
    <view class="no-more" wx:elif="{{posts.length > 0}}">
      <text>没有更多了</text>
    </view>
  </scroll-view>
  
  <!-- 评论弹窗 -->
  <comment-modal 
    visible="{{showCommentModal}}"
    post-id="{{currentPostId}}"
    comment-count="12"
    bind:close="onCloseCommentModal"
    bind:avatarTap="onCommentAvatarTap"
    wx:if="{{showCommentModal}}"
  ></comment-modal>
</view>