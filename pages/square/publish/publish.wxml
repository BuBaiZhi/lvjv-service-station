<view class="container" data-theme="{{theme}}" data-elder="{{elderMode}}" style="background: var(--color-background); min-height: 100vh;">
<view class="container">
  <!-- å‘å¸ƒè¡¨å• -->
  <view class="form-container">
    <!-- åˆ†ç±»é€‰æ‹© -->
    <view class="form-item">
      <text class="form-label">åˆ†ç±»</text>
      <view class="category-selector">
        <view 
          class="category-option {{currentCategory === item.value ? 'active' : ''}}"
          wx:for="{{categories}}"
          wx:key="value"
          bindtap="selectCategory"
          data-value="{{item.value}}"
        >
          {{item.name}}
        </view>
      </view>
    </view>

    <!-- æ ‡é¢˜ï¼ˆå¯é€‰ï¼‰ -->
    <view class="form-item">
      <text class="form-label">æ ‡é¢˜</text>
      <input 
        class="form-input"
        placeholder="è¯·è¾“å…¥æ ‡é¢˜ï¼ˆé€‰å¡«ï¼‰"
        bindinput="onTitleInput"
        value="{{title}}"
      ></input>
    </view>

    <!-- æ­£æ–‡ -->
    <view class="form-item">
      <text class="form-label">å†…å®¹ <text class="required">*</text></text>
      <textarea 
        class="form-textarea"
        placeholder="åˆ†äº«ä½ çš„æƒ³æ³•ã€æ´»åŠ¨ã€æ‰¾æ­å­..."
        bindinput="onContentInput"
        value="{{content}}"
        maxlength="1000"
      ></textarea>
      <text class="word-count">{{content.length}}/1000</text>
    </view>

    <!-- å›¾ç‰‡ä¸Šä¼  -->
    <view class="form-item">
      <text class="form-label">å›¾ç‰‡</text>
      <view class="image-uploader">
        <view class="image-list">
          <block wx:for="{{images}}" wx:key="index">
            <view class="image-item">
              <image class="uploaded-image" src="{{item}}" mode="aspectFill"></image>
              <text class="remove-image" bindtap="removeImage" data-index="{{index}}">âœ•</text>
            </view>
          </block>
          <view class="upload-btn" wx:if="{{images.length < 9}}" bindtap="chooseImage">
            <text class="upload-icon">+</text>
            <text class="upload-text">ä¸Šä¼ å›¾ç‰‡</text>
          </view>
        </view>
      </view>
    </view>

    <!-- æ ‡ç­¾ -->
    <view class="form-item">
      <text class="form-label">æ ‡ç­¾</text>
      <view class="tags-input">
        <input 
          class="tag-input"
          placeholder="è¾“å…¥æ ‡ç­¾åæŒ‰ç©ºæ ¼æ·»åŠ "
          bindinput="onTagInput"
          bindconfirm="addTag"
          value="{{tagInput}}"
        ></input>
        <view class="tag-list">
          <view class="tag-item" wx:for="{{tags}}" wx:key="index">
            <text class="tag-text">#{{item}}</text>
            <text class="remove-tag" bindtap="removeTag" data-index="{{index}}">âœ•</text>
          </view>
        </view>
      </view>
    </view>

    <!-- å®šä½ï¼ˆå¯é€‰ï¼‰ -->
    <view class="form-item">
      <text class="form-label">å®šä½</text>
      <view class="location-selector" bindtap="chooseLocation">
        <text class="location-icon">ğŸ“</text>
        <text class="location-text">{{location || 'é€‰æ‹©ä½ç½®'}}</text>
      </view>
    </view>

    <!-- å‘å¸ƒæŒ‰é’® -->
    <button class="publish-btn" bindtap="onPublish" disabled="{{!canPublish}}">{{isEdit ? 'ä¿å­˜ä¿®æ”¹' : 'å‘å¸ƒ'}}</button>
  </view>
</view>
</view>