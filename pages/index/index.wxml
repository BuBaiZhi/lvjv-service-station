<view class="container" data-theme="{{theme}}" data-elder="{{elderMode}}" style="background: var(--color-background); min-height: 100vh;">
<view class="container" style="background: #F9FBF8;">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  - æ¸…æ–°ç™½ -->
  <view class="nav-bar">
    <view class="nav-title">å‘ç°æ°‘å®¿</view>
    <view style="display: flex; align-items: center; gap: 30rpx;">
      <text bindtap="onSearch" style="font-size: 40rpx;">ğŸ”</text>
      <text bindtap="onPublishHouse" style="font-size: 40rpx;">ğŸ +</text>
      <text bindtap="onFilter" style="font-size: 40rpx;">ğŸ“‹</text>
    </view>
  </view>

  <!-- è½®æ’­å›¾ -->
  <scroll-view scroll-x show-scrollbar="{{false}}" style="padding: 30rpx 30rpx 20rpx;">
    <view style="display: flex; gap: 20rpx;">
      <view wx:for="{{banners}}" wx:key="index" bindtap="onBannerTap" data-index="{{index}}" style="flex-shrink: 0; width: 600rpx; height: 280rpx; border-radius: 28rpx; overflow: hidden; position: relative; box-shadow: 0 8rpx 24rpx rgba(74,122,92,0.1);">
        <image src="{{item.image || 'https://picsum.photos/600/300?random=' + index}}" style="width: 100%; height: 100%;" mode="aspectFill"></image>
        <view style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(to top, rgba(74,122,92,0.8), transparent); padding: 50rpx 20rpx 20rpx;">
          <text style="color: white; font-size: 32rpx; font-weight: 600; display: block;">{{item.title}}</text>
          <text style="color: rgba(255,255,255,0.9); font-size: 24rpx;">{{item.desc}}</text>
        </view>
      </view>
    </view>
  </scroll-view>

  <!-- åˆ†ç±»å…¥å£ - å°æ¸…æ–°å›¾æ ‡ -->
  <view class="card" style="margin: 0 30rpx 20rpx;">
    <view class="section-title">çƒ­é—¨ç›®çš„åœ°</view>
    <view style="display: flex; justify-content: space-around;">
      <view wx:for="{{categories}}" wx:key="index" bindtap="onCategoryTap" data-category="{{item.name}}" style="text-align: center;">
        <view style="width: 96rpx; height: 96rpx; background: rgba(168,213,186,0.2); border-radius: 48rpx; display: flex; align-items: center; justify-content: center; margin-bottom: 12rpx;">
          <text style="font-size: 48rpx;">{{item.icon}}</text>
        </view>
        <text style="font-size: 24rpx; color: var(--color-text);">{{item.name}}</text>
      </view>
    </view>
  </view>

  <!-- åœ°åŒºé€‰æ‹©å™¨ -->
  <view class="card" style="margin: 0 30rpx 20rpx; padding: 24rpx;" bindtap="showRegionPicker">
    <view style="display: flex; align-items: center;">
      <text style="font-size: 32rpx; margin-right: 16rpx;">ğŸ“</text>
      <text style="font-size: 26rpx; color: var(--color-text-light); flex: 1;">å½“å‰åœ°åŒº</text>
      <text style="font-size: 28rpx; font-weight: 500; color: var(--color-primary); margin-right: 16rpx;">{{currentRegion}}</text>
      <text style="font-size: 28rpx; color: var(--color-text-light);">â–¼</text>
    </view>
  </view>

  <!-- æ¨èæˆ¿æº -->
  <view style="padding: 0 30rpx;">
    <view style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20rpx;">
      <text class="section-title">çƒ­é—¨æ¨è</text>
      <text bindtap="onViewAll" style="font-size: 24rpx; color: var(--color-primary);">æŸ¥çœ‹æ›´å¤š â€º</text>
    </view>
  </view>

  <!-- æˆ¿æºåˆ—è¡¨ -->
  <view style="padding: 0 30rpx;">
    <view class="card" wx:for="{{houses}}" wx:key="id" bindtap="onHouseTap" data-id="{{item.id}}" style="display: flex; padding: 20rpx; margin-bottom: 20rpx;">
      <image src="{{item.image}}" style="width: 200rpx; height: 200rpx; border-radius: 24rpx; margin-right: 20rpx;" mode="aspectFill"></image>
      <view style="flex: 1;">
        <view style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8rpx;">
          <text style="font-size: 30rpx; font-weight: 600; color: var(--color-primary);">{{item.title}}</text>
          <text style="font-size: 24rpx; color: var(--color-accent);">â¤ï¸ {{item.likes || 0}}</text>
        </view>
        <text style="font-size: 24rpx; color: var(--color-text-light); margin-bottom: 12rpx; display: block;">ğŸ“ {{item.location}}</text>
        <view style="display: flex; align-items: baseline; margin-bottom: 12rpx;">
          <text style="font-size: 34rpx; font-weight: 600; color: var(--color-primary);">Â¥{{item.price}}</text>
          <text style="font-size: 22rpx; color: var(--color-text-light); margin-left: 4rpx;">/{{item.unit}}</text>
        </view>
        <view style="display: flex; gap: 12rpx; flex-wrap: wrap;">
          <text class="tag" wx:for="{{item.tags}}" wx:key="*this">#{{item}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- åœ°åŒºé€‰æ‹©å¼¹çª— -->
  <view wx:if="{{showRegionModal}}" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 1000;">
    <view bindtap="hideRegionPicker" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.3);"></view>
    <view style="position: absolute; bottom: 0; left: 0; right: 0; background: white; border-radius: 32rpx 32rpx 0 0; padding: 30rpx; max-height: 70vh;">
      <view style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30rpx;">
        <text style="font-size: 32rpx; font-weight: 600; color: var(--color-primary);">é€‰æ‹©åœ°åŒº</text>
        <text bindtap="hideRegionPicker" style="font-size: 40rpx; color: var(--color-text-light);">âœ•</text>
      </view>
      <scroll-view scroll-y style="max-height: 60vh;">
        <view wx:for="{{regions}}" wx:key="index" bindtap="selectRegion" data-region="{{item}}" style="padding: 30rpx 0; border-bottom: 2rpx solid rgba(74,122,92,0.1); display: flex; justify-content: space-between;">
          <text style="font-size: 28rpx; color: {{currentRegion === item ? 'var(--color-primary)' : 'var(--color-text)'}}; {{currentRegion === item ? 'font-weight: 600;' : ''}}">{{item}}</text>
          <text wx:if="{{currentRegion === item}}" style="color: var(--color-primary);">âœ“</text>
        </view>
      </scroll-view>
    </view>
  </view>
</view>
</view>