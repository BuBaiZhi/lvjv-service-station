<!-- ш║лф╗╜щАЙцЛйщб╡ -->
<view class="page {{theme === 'dark' ? 'dark-mode' : ''}} {{appVersion === 'elderly' ? 'elderly-mode' : ''}}">
  <!-- щб╢щГиш┐ФхЫЮцМЙщТо -->
  <view class="header">
    <button class="back-btn" bindtap="goBack">
      <text>тЖР ш┐ФхЫЮ</text>
    </button>
    <text class="header-title">щАЙцЛйш║лф╗╜</text>
    <view class="header-placeholder"></view>
  </view>

  <!-- цнещкдцМЗчд║хЩи -->
  <view class="progress">
    <text class="progress-text">чмм 2 цнея╝МхЕ▒ 2 цне</text>
    <view class="progress-bar">
      <view class="progress-fill" style="width: 50%;"></view>
    </view>
  </view>

  <!-- хЖЕхо╣хМ║ -->
  <view class="content">
    <text class="content-title">цВичЪДш║лф╗╜цШпя╝Я</text>
    <text class="content-subtitle">щАЙцЛйцВичЪДш║лф╗╜ф╗ешО╖х╛ЧцЫ┤хе╜чЪДф╜УщкМ</text>

    <!-- ш║лф╗╜щАЙщб╣ -->
    <view class="identity-options">
      <!-- цЭСц░С -->
      <view 
        class="identity-card {{selectedIdentity === 'villager' ? 'active' : ''}}"
        bindtap="selectIdentity"
        data-identity="villager"
      >
        <view class="card-icon">ЁЯПШя╕П</view>
        <text class="card-title">цЭСц░С</text>
        <text class="card-description">хПпф╗ехПСх╕Гц░Схо┐уАБцКАшГ╜уАБц┤╗хКичнЙ</text>
        <view class="card-checkbox">
          <view class="checkbox {{selectedIdentity === 'villager' ? 'checked' : ''}}"></view>
        </view>
      </view>

      <!-- ц╕╕хов -->
      <view 
        class="identity-card {{selectedIdentity === 'visitor' ? 'active' : ''}}"
        bindtap="selectIdentity"
        data-identity="visitor"
      >
        <view class="card-icon">тЬИя╕П</view>
        <text class="card-title">ц╕╕хов</text>
        <text class="card-description">хПпф╗ец╡ПшзИуАБщвДшовуАБхТишпвчнЙ</text>
        <view class="card-checkbox">
          <view class="checkbox {{selectedIdentity === 'visitor' ? 'checked' : ''}}"></view>
        </view>
      </view>
    </view>
  </view>

  <!-- чбошодцМЙщТо -->
  <view class="footer">
    <button 
      class="confirm-btn {{selectedIdentity ? '' : 'disabled'}}"
      bindtap="confirmIdentity"
      disabled="{{!selectedIdentity || isLoading}}"
    >
      {{isLoading ? 'чбошодф╕н...' : 'чбошод'}}
    </button>
  </view>
</view>
