<view class="container" data-theme="{{theme}}" data-elder="{{elderMode}}" style="background: var(--color-background); min-height: 100vh;">
<view class="container">
  <!-- æœç´¢æ¡† -->
  <view class="search-header">
    <view class="search-box">
      <text class="search-icon">ğŸ”</text>
      <input 
        class="search-input" 
        placeholder="æœç´¢åœ°ç‚¹"
        bindinput="onSearchInput"
        value="{{keyword}}"
        confirm-type="search"
        bindconfirm="onSearch"
      ></input>
      <text class="clear-btn" wx:if="{{keyword}}" bindtap="clearSearch">âœ•</text>
    </view>
    <text class="cancel-btn" bindtap="onCancel">å–æ¶ˆ</text>
  </view>

  <!-- åœ°å›¾åŒºåŸŸ -->
  <view class="map-section">
    <map
      id="map"
      class="map"
      latitude="{{latitude}}"
      longitude="{{longitude}}"
      scale="{{scale}}"
      markers="{{markers}}"
      bindmarkertap="onMarkerTap"
      bindtap="onMapTap"
      show-location
    ></map>
    
    <!-- ä¸­å¿ƒå®šä½å›¾æ ‡ï¼ˆå›ºå®šåœ¨åœ°å›¾ä¸­å¿ƒï¼‰ -->
    <view class="center-marker">
      <view class="marker-dot"></view>
      <view class="marker-circle"></view>
    </view>
    
    <!-- å½“å‰ä½ç½®æŒ‰é’® -->
    <view class="current-location-btn" bindtap="onLocate">
      <text class="locate-icon">ğŸ“</text>
    </view>
  </view>

  <!-- æœç´¢ç»“æœ/é™„è¿‘åœ°ç‚¹åˆ—è¡¨ -->
  <view class="places-list" wx:if="{{showPlaces}}">
    <view class="places-header">
      <text class="places-title">{{searchMode ? 'æœç´¢ç»“æœ' : 'é™„è¿‘åœ°ç‚¹'}}</text>
    </view>
    <scroll-view class="places-scroll" scroll-y>
      <view class="place-item" wx:for="{{places}}" wx:key="index" bindtap="selectPlace" data-item="{{item}}">
        <view class="place-info">
          <text class="place-name">{{item.name}}</text>
          <text class="place-address">{{item.address}}</text>
        </view>
        <text class="place-distance">{{item.distance}}</text>
      </view>
    </scroll-view>
  </view>

  <!-- åº•éƒ¨ç¡®è®¤æ ï¼ˆç¾å›¢å¤–å–é£æ ¼ï¼‰ -->
  <view class="bottom-bar" wx:if="{{selectedPlace}}">
    <view class="selected-info">
      <text class="selected-name">{{selectedPlace.name}}</text>
      <text class="selected-address">{{selectedPlace.address}}</text>
    </view>
    <button class="confirm-btn" bindtap="onConfirm">ç¡®è®¤é€‰æ‹©</button>
  </view>
</view>
</view>