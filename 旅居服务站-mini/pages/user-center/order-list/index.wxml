<!-- æˆ‘çš„äº¤æ˜“é¡µé¢ -->
<view class="page {{theme === 'dark' ? 'dark-mode' : ''}} {{appVersion === 'elderly' ? 'elderly-mode' : ''}}">
  <!-- å¯¼èˆªæ  -->
  <view class="page-header">
    <view class="back-btn" bindtap="goBack">è¿”å›</view>
    <text class="page-title">æˆ‘çš„äº¤æ˜“</text>
    <view class="placeholder"></view>
  </view>

  <!-- æ ‡ç­¾æ  -->
  <view class="tabs">
    <view 
      class="tab-item {{activeTab === 'all' ? 'active' : ''}}"
      bindtap="switchTab"
      data-tab="all"
    >
      <text>å…¨éƒ¨</text>
    </view>
    <view 
      class="tab-item {{activeTab === 'pending' ? 'active' : ''}}"
      bindtap="switchTab"
      data-tab="pending"
    >
      <text>å¾…ç¡®è®¤</text>
    </view>
    <view 
      class="tab-item {{activeTab === 'ongoing' ? 'active' : ''}}"
      bindtap="switchTab"
      data-tab="ongoing"
    >
      <text>è¿›è¡Œä¸­</text>
    </view>
    <view 
      class="tab-item {{activeTab === 'completed' ? 'active' : ''}}"
      bindtap="switchTab"
      data-tab="completed"
    >
      <text>å·²å®Œæˆ</text>
    </view>
  </view>

  <!-- è®¢å•åˆ—è¡¨ -->
  <view class="content">
    <view 
      class="order-card"
      wx:for="{{orderList}}"
      wx:key="id"
      bindtap="viewOrderDetail"
      data-id="{{item.id}}"
    >
      <view class="order-header">
        <text class="order-type">{{item.type === 'house' ? 'æ°‘å®¿' : item.type === 'skill' ? 'æŠ€èƒ½' : 'æ´»åŠ¨'}}</text>
        <text class="order-status {{item.status}}">{{item.statusText}}</text>
      </view>
      
      <view class="order-content">
        <image class="order-image" src="{{item.image || 'https://picsum.photos/200/200?random=' + item.id}}" mode="aspectFill"></image>
        <view class="order-info">
          <text class="order-title">{{item.title}}</text>
          <text class="order-date">{{item.date}}</text>
          <text class="order-price">Â¥{{item.price}}</text>
        </view>
      </view>

      <view class="order-footer">
        <button class="btn-secondary" size="mini">è”ç³»å¯¹æ–¹</button>
        <button class="btn-primary" size="mini">æŸ¥çœ‹è¯¦æƒ…</button>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty" wx:if="{{orderList.length === 0}}">
      <text class="empty-icon">ğŸ“¦</text>
      <text class="empty-text">æš‚æ— è®¢å•</text>
    </view>
  </view>
</view>
